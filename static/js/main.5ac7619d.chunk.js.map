{"version":3,"sources":["reducers/notifyReducer.js","store.js","reducers/data.js","actions/index.js","actions/types.js","reducers/expenseData.js","components/loading/LoadingSpinner.js","helpers/auth.js","components/layout/Navbar.js","components/trips/AddNewTrip.js","components/trips/ListTrips.js","components/expense/FriendsInvolved.js","components/expense/EditExpense.js","components/expense/ExpenseList.js","components/expense/WhoPaid.js","components/expense/RenderExpenseList.js","components/expense/AddExpense.js","components/layout/MainViewContainer.js","components/friends/EditFriend.js","components/friends/FriendDetails.js","components/friends/Friends.js","components/layout/Sidebar.js","components/trips/Trip.js","components/trips/AllTrips.js","actions/notifyActions.js","components/layout/Alert.js","components/auth/Login.js","components/auth/Register.js","App.js","serviceWorker.js","index.js"],"names":["initialState","message","messageType","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","rootReducer","combineReducers","firebaseReducer","firestoreReducer","data","state","action","type","payload","notify","expenseData","store","createStore","compose","window","__REDUX_DEVTOOLS_EXTENSION__","rrfProps","config","userProfile","useFirestoreForProfile","dispatch","createFirestoreInstance","LoadingSpinner","className","role","locationHelper","locationHelperBuilder","UserIsAuthenticated","createHistory","connectedRouterRedirect","wrapperDisplayName","AuthenticatingComponent","allowRedirectBack","redirectPath","ownProps","getRedirectQueryParam","authenticatingSelector","auth","isInitializing","profile","isLoaded","authenticatedSelector","isEmpty","UserIsNotAuthenticated","Navbar","isAuthenticated","onLogoutClick","e","preventDefault","props","logout","this","to","data-toggle","data-target","id","href","email","onClick","uid","Component","firebaseConnect","connect","AddNewTrip","showForm","tripName","inputChange","setState","target","name","value","formSubmit","docRefConfig","collection","doc","subcollections","add","then","docRef","console","log","renderForm","onSubmit","onChange","style","display","flexDirection","justifyContent","firestoreConnect","storeAs","expenses","friends","trips","ListTrips","map","item","key","pathname","tripProps","ordered","FriendsInvolved","firstName","EditExpense","friendsInvolved","inputChangeMultiple","selectedOptions","Array","from","_","tripId","expenseId","updExpense","nameInput","current","expenseAmount","Number","amountInput","whoPaid","whoPaidInput","update","React","createRef","friendsInvolvedInput","multiple","defaultValue","ref","friendSelectMultiple","expense","amount","htmlFor","minLength","required","renderFriendsInvolved","renderFriend","ExpenseList","handleDelete","delete","handleInputChange","checked","addIncluded","concat","removeIncluded","filter","includes","isIncluded","friendsObj","expensesObj","editIcon","width","height","viewBox","fill","xmlns","cursor","d","fillRule","clipRule","renderEditForm","float","renderWhoPaid","parseFloat","length","toFixed","renderExpenseTable","WhoPaid","friendId","useFirestoreConnect","useSelector","RenderExpenseList","addTotalExpenses","newTotal","x","addTotalPaidExpenses","obj","total","totals","friendSelect","expensesList","bal","totalAmountPaidPerPerson","friendsObj1","totalPerPerson","diffAmount","friendsList","renderFriendHeader","renderExpense","colSpan","renderTotalPerPerson","color","renderTotalAmountPaidPerPerson","renderTotalDifferencePerPerson","AddExpense","MainViewContainer","EditFriend","friend","updFriend","firstNameInput","FriendDetails","Friends","Sidebar","useParams","class","Trip","AllTrips","path","render","match","params","notifyUser","Alert","classnames","Login","password","login","catch","err","history","push","Register","createUser","App","exact","component","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.5ac7619d.chunk.js","sourcesContent":["import { NOTIFY_USER } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  message: null,\r\n  messageType: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case NOTIFY_USER:\r\n      return {\r\n        ...state,\r\n        message: action.message,\r\n        messageType: action.messageType,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import firebase from \"firebase\";\r\nimport { createStore, combineReducers, compose } from \"redux\";\r\nimport \"firebase/firestore\";\r\nimport { firebaseReducer } from \"react-redux-firebase\";\r\nimport { firestoreReducer } from \"redux-firestore\";\r\nimport { createFirestoreInstance } from \"redux-firestore\";\r\n\r\n// Reducers\r\nimport data from \"./reducers/data\";\r\nimport expenseData from \"./reducers/expenseData\";\r\nimport notifyReducer from \"./reducers/notifyReducer\";\r\n\r\nconst fbConfig = {\r\n  apiKey: process.env.REACT_APP_APIKEY,\r\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASEURL,\r\n  projectId: process.env.REACT_APP_PROJECTID,\r\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\r\n  appId: process.env.REACT_APP_APPID,\r\n};\r\n\r\n// react-redux-firebase config\r\nconst rrfConfig = {\r\n  userProfile: \"users\",\r\n  useFirestoreForProfile: true,\r\n};\r\n\r\n// Init firebase instance\r\nfirebase.initializeApp(fbConfig);\r\n\r\n// Init firestore\r\nconst firestore = firebase.firestore();\r\n\r\n// Add firebase to reducers\r\nconst rootReducer = combineReducers({\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer,\r\n  data: data,\r\n  notify: notifyReducer,\r\n  expenseData: expenseData,\r\n});\r\n\r\nconst initialState = {};\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport const rrfProps = {\r\n  firebase,\r\n  config: rrfConfig,\r\n  dispatch: store.dispatch,\r\n  createFirestoreInstance,\r\n};\r\n\r\nexport default store;\r\n","import { FETCH_FRIENDS } from \"../actions/index.js\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_FRIENDS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","// import { totalsRef, friendsRef, expensesRef } from \"../store\";\r\nconst FETCH_FRIENDS = \"FETCH_FRIENDS\";\r\nconst FETCH_EXPENSES = \"FETCH_EXPENSES\";\r\n\r\nconst addFriend = (newFriend) => async (dispatch) => {\r\n  // friendsRef.push().set(newFriend);\r\n  console.log(\"addFriend ran\");\r\n};\r\n\r\n// const addExpense = (newExpense) => async (dispatch) => {\r\n//   expensesRef.push().set(newExpense);\r\n//   console.log(newExpense);\r\n// };\r\n\r\n// const addTotal = (newTotal) => async (dispatch) => {\r\n//   totalsRef.push().set(newTotal);\r\n//   console.log(\"addTotal ran\");\r\n// };\r\n\r\n// const deleteFriend = (deleteFriend) => async (dispatch) => {\r\n//   friendsRef.child(deleteFriend).remove();\r\n// };\r\n\r\n// const deleteExpense = (deleteExpense) => async (dispatch) => {\r\n//   expensesRef.child(deleteExpense).remove();\r\n// };\r\n\r\n// const fetchFriends = () => async (dispatch) => {\r\n//   friendsRef.on(\"value\", (snapshot) => {\r\n//     dispatch({\r\n//       type: FETCH_FRIENDS,\r\n//       payload: snapshot.val(),\r\n//     });\r\n//   });\r\n// };\r\n\r\n// const fetchExpenses = () => async (dispatch) => {\r\n//   expensesRef.on(\"value\", (snapshot) => {\r\n//     dispatch({\r\n//       type: FETCH_EXPENSES,\r\n//       payload: snapshot.val(),\r\n//     });\r\n//   });\r\n// };\r\n\r\nexport {\r\n  addFriend,\r\n  // deleteFriend,\r\n  // deleteExpense,\r\n  // fetchFriends,\r\n  // fetchExpenses,\r\n  // addExpense,\r\n  // addTotal,\r\n  FETCH_FRIENDS,\r\n  FETCH_EXPENSES,\r\n};\r\n","export const NOTIFY_USER = \"NOTIFY_USER\";\r\nexport const ALLOW_REGISTRATION = \"ALLOW_REGISTRATION\";\r\n","import { FETCH_EXPENSES } from \"../actions/index.js\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_EXPENSES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function LoadingSpinner() {\r\n  return (\r\n    <div className=\"spinner-border\" role=\"status\">\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  );\r\n}\r\n","import locationHelperBuilder from \"redux-auth-wrapper/history4/locationHelper\";\r\nimport { connectedRouterRedirect } from \"redux-auth-wrapper/history4/redirect\";\r\nimport createHistory from \"history/createBrowserHistory\";\r\nimport LoadingSpinner from \"../components/loading/LoadingSpinner\";\r\n\r\nconst locationHelper = locationHelperBuilder({});\r\nconst browserHistory = createHistory();\r\n\r\nexport const UserIsAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsAuthenticated\",\r\n  AuthenticatingComponent: LoadingSpinner,\r\n  allowRedirectBack: true,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/login\",\r\n  authenticatingSelector: ({ firebase: { auth, profile, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && !auth.isEmpty,\r\n});\r\n\r\nexport const UserIsNotAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsNotAuthenticated\",\r\n  AuthenticatingComponent: LoadingSpinner,\r\n  allowRedirectBack: false,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/\",\r\n  authenticatingSelector: ({ firebase: { auth, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && auth.isEmpty,\r\n});\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\n\r\nclass Navbar extends Component {\r\n  state = {\r\n    isAuthenticated: false,\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { auth } = props;\r\n\r\n    if (auth.uid) {\r\n      return { isAuthenticated: true };\r\n    } else {\r\n      return { isAuthenticated: false };\r\n    }\r\n  }\r\n\r\n  onLogoutClick = (e) => {\r\n    e.preventDefault();\r\n    const { firebase } = this.props;\r\n    firebase.logout();\r\n  };\r\n\r\n  render() {\r\n    const { isAuthenticated } = this.state;\r\n    const { auth } = this.props;\r\n    return (\r\n      <div className=\"navbar navbar-expand-md navbar-dark bg-primary mb-4\">\r\n        <div className=\"container\">\r\n          <Link to=\"/\" className=\"navbar-brand\">\r\n            Splitting Costs with Friends!\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-toggle=\"collapse\"\r\n            data-target=\"#navbarMain\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarMain\">\r\n            <ul className=\"navbar-nav mr-auto\">\r\n              {isAuthenticated ? (\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/\" className=\"nav-link\">\r\n                    Dashboard\r\n                  </Link>\r\n                </li>\r\n              ) : null}\r\n            </ul>\r\n            {isAuthenticated ? (\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"nav-item\">\r\n                  <a href=\"#!\" className=\"nav-link\">\r\n                    {auth.email}\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a\r\n                    href=\"#!\"\r\n                    className=\"nav-link\"\r\n                    onClick={this.onLogoutClick}\r\n                  >\r\n                    Logout\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            ) : null}\r\n\r\n            {!isAuthenticated ? (\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/login\" className=\"nav-link\">\r\n                    Login\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/register\" className=\"nav-link\">\r\n                    Register\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect((state, props) => ({\r\n    auth: state.firebase.auth,\r\n  }))\r\n)(Navbar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nclass AddNewTrip extends Component {\r\n  state = {\r\n    showForm: false,\r\n    tripName: \"\",\r\n  };\r\n\r\n  inputChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { tripName } = this.state;\r\n    const { firestore, uid } = this.props;\r\n    const docRefConfig = {\r\n      collection: \"users\",\r\n      doc: uid,\r\n      subcollections: [{ collection: \"trips\" }],\r\n    };\r\n    firestore.add(docRefConfig, { tripName: tripName }).then((docRef) => {\r\n      console.log(\"Document written with ID: \", docRef.id);\r\n    });\r\n\r\n    this.setState({\r\n      tripName: \"\",\r\n    });\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { showForm, tripName } = this.state;\r\n    if (showForm) {\r\n      return (\r\n        <div className=\"card mt-3 pl-1\">\r\n          <div className=\"card-header\">Add Expense</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.formSubmit}>\r\n              <div className=\"form-group\">\r\n                <label>Trip Name</label>\r\n                <input\r\n                  value={tripName}\r\n                  className=\"form-control\"\r\n                  onChange={this.inputChange}\r\n                  id=\"tripName\"\r\n                  type=\"text\"\r\n                  name=\"tripName\"\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Submit\"\r\n                className=\"btn btn-success btn-block\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        {showForm ? (\r\n          <button\r\n            className=\"btn btn-danger\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Close\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-secondary\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Add Trip{\" \"}\r\n          </button>\r\n        )}\r\n        <div>\r\n          <div className=\"\">{this.renderForm()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"expenses\",\r\n      storeAs: \"expense\",\r\n    },\r\n    {\r\n      collection: \"friends\",\r\n      storeAs: \"friend\",\r\n    },\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      subcollections: [{ collection: \"trips\" }],\r\n      storeAs: `${props.uid}-trips`,\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { data } }, props) => ({\r\n    expenses: data.expenses,\r\n    friends: data.friends,\r\n    trips: data[`${props.uid}-trips`],\r\n  }))\r\n)(AddNewTrip);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\n\r\nclass ListTrips extends Component {\r\n  state = {\r\n    showForm: false,\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { showForm } = this.state;\r\n    const { trips, uid } = this.props;\r\n\r\n    if (!showForm) {\r\n      return (\r\n        <ul className=\"list-group mt-4\">\r\n          <li className=\"list-group-item active\">All Trips</li>\r\n          {trips ? (\r\n            trips.map((item) => {\r\n              return (\r\n                <li className=\"list-group-item\" key={item.id}>\r\n                  <Link\r\n                    to={{\r\n                      pathname: `/trip/${item.id}`,\r\n                      tripProps: { uid: \"uid\" },\r\n                    }}\r\n                  >\r\n                    {item.tripName}\r\n                  </Link>\r\n                </li>\r\n              );\r\n            })\r\n          ) : (\r\n            <LoadingSpinner />\r\n          )}\r\n        </ul>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n\r\n    console.log(this.props);\r\n    const { trips, uid } = this.props;\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        {showForm ? (\r\n          <button\r\n            className=\"btn btn-secondary mt-2\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Display All Trips\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-danger mt-2\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Close Trip List\r\n          </button>\r\n        )}\r\n        <div>\r\n          <div className=\"\">{this.renderForm()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      subcollections: [{ collection: \"trips\" }],\r\n      storeAs: `${props.uid}-trips`,\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    trips: ordered[`${props.uid}-trips`],\r\n  }))\r\n)(ListTrips);\r\n","import React from \"react\";\r\n\r\nexport default function FriendsInvolved(props) {\r\n  const { friends } = props;\r\n  return <option value={friends.id}>{friends.firstName}</option>;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\nimport FriendsInvolved from \"./FriendsInvolved\";\r\n\r\nclass EditExpense extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // Create refs\r\n    this.nameInput = React.createRef();\r\n    this.amountInput = React.createRef();\r\n    this.friendsInvolvedInput = React.createRef();\r\n    this.whoPaidInput = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    friendsInvolved: this.props.friendsInvolved,\r\n  };\r\n\r\n  renderFriend() {\r\n    const { friends, whoPaid } = this.props;\r\n\r\n    const friendSelect = (\r\n      <select\r\n        multiple={false}\r\n        defaultValue={whoPaid}\r\n        className=\"form-control\"\r\n        id=\"whoPaid\"\r\n        type=\"text\"\r\n        name=\"whoPaid\"\r\n        ref={this.whoPaidInput}\r\n      >\r\n        <option value=\"\">Select Option</option>\r\n        {_.map(friends, (value, key) => {\r\n          return <option value={value.id}>{value.firstName}</option>;\r\n        })}\r\n      </select>\r\n    );\r\n\r\n    return friendSelect;\r\n  }\r\n\r\n  inputChangeMultiple = (e) => {\r\n    console.log(e.target.selectedOptions);\r\n    this.setState({\r\n      friendsInvolved: Array.from(\r\n        e.target.selectedOptions,\r\n        (item) => item.value\r\n      ),\r\n    });\r\n\r\n    const optionValues = _.map(e.target.selectedOptions, (value, key) => {\r\n      return value.value;\r\n    });\r\n  };\r\n\r\n  renderFriendsInvolved() {\r\n    const { friendsInvolved, friends, uid } = this.props;\r\n    console.log(this.props);\r\n    const friendSelectMultiple = (\r\n      <select\r\n        multiple={true}\r\n        defaultValue={friendsInvolved}\r\n        onChange={this.inputChangeMultiple}\r\n        className=\"form-control\"\r\n        id=\"friendsInvolved\"\r\n        type=\"text\"\r\n      >\r\n        {_.map(friends, (value, key) => {\r\n          return <FriendsInvolved key={value.id} friends={value} uid={uid} />;\r\n        })}\r\n      </select>\r\n    );\r\n    return <div>{friendSelectMultiple}</div>;\r\n  }\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { firestore, tripId, expenseId, uid } = this.props;\r\n\r\n    // Update expense\r\n    const updExpense = {\r\n      name: this.nameInput.current.value,\r\n      expenseAmount: Number(this.amountInput.current.value),\r\n      friendsInvolved: this.state.friendsInvolved,\r\n      whoPaid: this.whoPaidInput.current.value,\r\n    };\r\n\r\n    // update expense in firestore\r\n    firestore.update(\r\n      {\r\n        collection: \"users\",\r\n        doc: uid,\r\n        storeAs: `${tripId}-expense`,\r\n        subcollections: [\r\n          { collection: \"trips\", doc: tripId },\r\n          { collection: \"expenses\", doc: expenseId },\r\n        ],\r\n      },\r\n      updExpense\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { expense, amount } = this.props;\r\n    console.log(this.props);\r\n    if (this.props) {\r\n      return (\r\n        <div>\r\n          <div className=\"card mb-4 mt-4 \">\r\n            <div className=\"card-header\">Edit Expense</div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={this.formSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">Expense Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"expense name\"\r\n                    minLength=\"2\"\r\n                    required\r\n                    ref={this.nameInput}\r\n                    defaultValue={expense}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"expenseAmount\">Amount</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    name=\"amount\"\r\n                    minLength=\"1\"\r\n                    required\r\n                    ref={this.amountInput}\r\n                    defaultValue={amount}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Friends Involved {\"\"}</label>\r\n                  {this.renderFriendsInvolved()}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Who Paid</label>\r\n                  {this.renderFriend()}\r\n                </div>\r\n\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <LoadingSpinner />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default EditExpense;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect, isEmpty } from \"react-redux-firebase\";\r\nimport _ from \"lodash\";\r\nimport EditExpense from \"./EditExpense\";\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\r\n\r\nclass ExpenseList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isIncluded: false,\r\n      showForm: false,\r\n    };\r\n  }\r\n\r\n  // handles deletion of expense from Firestore\r\n  handleDelete = () => {\r\n    const { expenses, firestore, tripId, uid } = this.props;\r\n    firestore.delete({\r\n      collection: \"users\",\r\n      doc: uid,\r\n      storeAs: `${tripId.id}-expenses`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: tripId },\r\n        { collection: \"expenses\", doc: expenses.id },\r\n      ],\r\n    });\r\n  };\r\n\r\n  // renders name of friend who paid for expense\r\n  renderWhoPaid(whoPaid) {\r\n    const { friendsObj } = this.props;\r\n    if (friendsObj && friendsObj[whoPaid]) {\r\n      return <Td>{friendsObj[whoPaid].firstName}</Td>;\r\n    } else {\r\n      return <Td>''</Td>;\r\n    }\r\n  }\r\n\r\n  // shows edit form to change expense details\r\n  renderEditForm(id) {\r\n    const { showForm } = this.state;\r\n    const { expenses, friends, firestore, tripId, uid } = this.props;\r\n\r\n    if (showForm) {\r\n      return (\r\n        <EditExpense\r\n          expenseId={id}\r\n          expense={expenses.name}\r\n          amount={expenses.expenseAmount}\r\n          friendsInvolved={expenses.friendsInvolved}\r\n          whoPaid={expenses.whoPaid}\r\n          friends={friends}\r\n          tripId={tripId}\r\n          firestore={firestore}\r\n          uid={uid}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  // handles input from form\r\n  handleInputChange = (e) => {\r\n    const target = e.target;\r\n    const value = target.name === \"isIncluded\" ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  // upon checkbox click, adds friend to friendsIncluded array on expense and updates Firestore\r\n  addIncluded = (expense, id) => {\r\n    const { firestore, tripId, uid } = this.props;\r\n    // Update expense\r\n    const updExpense = {\r\n      friendsInvolved: expense.friendsInvolved.concat(id),\r\n    };\r\n\r\n    // update expense in firestore\r\n    firestore.update(\r\n      {\r\n        collection: \"users\",\r\n        doc: uid,\r\n        storeAs: `${tripId}-expenses`,\r\n        subcollections: [\r\n          { collection: \"trips\", doc: tripId },\r\n          { collection: \"expenses\", doc: expense.id },\r\n        ],\r\n      },\r\n      updExpense\r\n    );\r\n  };\r\n\r\n  // upon checkbox click, removes friend from friendsIncluded array on expense and updates Firestore\r\n\r\n  removeIncluded = (expense, id) => {\r\n    const { firestore, tripId, uid } = this.props;\r\n\r\n    // Update expense\r\n    const updExpense = {\r\n      friendsInvolved: expense.friendsInvolved.filter(\r\n        (item) => !id.includes(item)\r\n      ),\r\n    };\r\n\r\n    // update expense in firestore\r\n    firestore.update(\r\n      {\r\n        collection: \"users\",\r\n        doc: uid,\r\n        storeAs: `${tripId}-expenses`,\r\n        subcollections: [\r\n          { collection: \"trips\", doc: tripId },\r\n          { collection: \"expenses\", doc: expense.id },\r\n        ],\r\n      },\r\n      updExpense\r\n    );\r\n  };\r\n\r\n  // method to render expense table in app\r\n  renderExpenseTable() {\r\n    const { expensesObj, expenses, friends, friendsObj } = this.props;\r\n    const friendsInvolved = expenses.friendsInvolved;\r\n    const { showForm } = this.state;\r\n    const editIcon = (\r\n      // pencil/edit icon\r\n      <svg\r\n        className=\"bi bi-pencil-square\"\r\n        width=\"1em\"\r\n        height=\"1em\"\r\n        viewBox=\"0 0 16 16\"\r\n        fill=\"currentColor\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        cursor=\"pointer\"\r\n      >\r\n        <path d=\"M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z\" />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          d=\"M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z\"\r\n          clipRule=\"evenodd\"\r\n        />\r\n      </svg>\r\n    );\r\n\r\n    if (!isEmpty(expenses)) {\r\n      return (\r\n        <Tr key={expenses.id}>\r\n          <Td>\r\n            {expenses.name}\r\n            {this.renderEditForm(expenses.id)}\r\n            <div style={{ float: \"right\" }}>\r\n              {/* trash/delete icon */}\r\n              <svg\r\n                className=\"bi bi-trash-fill ml-2\"\r\n                width=\"1em\"\r\n                height=\"1em\"\r\n                viewBox=\"0 0 16 16\"\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                onClick={this.handleDelete}\r\n                cursor=\"pointer\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M2.5 1a1 1 0 00-1 1v1a1 1 0 001 1H3v9a2 2 0 002 2h6a2 2 0 002-2V4h.5a1 1 0 001-1V2a1 1 0 00-1-1H10a1 1 0 00-1-1H7a1 1 0 00-1 1H2.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM8 5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 018 5zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              <span\r\n                className=\"ml-2\"\r\n                onClick={() => this.setState({ showForm: !showForm })}\r\n              >\r\n                {showForm ? (\r\n                  <button className=\"btn-danger\">\r\n                    <i>Close</i>\r\n                  </button>\r\n                ) : (\r\n                  editIcon\r\n                )}\r\n              </span>\r\n            </div>\r\n          </Td>\r\n          {/* Who Paid for Expense */}\r\n          {this.renderWhoPaid(expenses.whoPaid)}\r\n          {/* Cost per person for expense */}\r\n          <Td>\r\n            $\r\n            {parseFloat(\r\n              expenses.expenseAmount / expenses.friendsInvolved.length\r\n            ).toFixed(2)}\r\n          </Td>\r\n\r\n          {_.map(friends, (value, key) => {\r\n            if (friendsInvolved.includes(value.id)) {\r\n              return (\r\n                <Td key={value.id}>\r\n                  {/* checkbox to signify friend is included in expense, clicking will remove friend */}\r\n                  <svg\r\n                    className=\"bi bi-check-box\"\r\n                    width=\"1em\"\r\n                    height=\"1em\"\r\n                    viewBox=\"0 0 16 16\"\r\n                    fill=\"currentColor\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    cursor=\"pointer\"\r\n                    onClick={() => this.removeIncluded(expenses, value.id)}\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M1.5 13A1.5 1.5 0 003 14.5h10a1.5 1.5 0 001.5-1.5V8a.5.5 0 00-1 0v5a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5V3a.5.5 0 01.5-.5h8a.5.5 0 000-1H3A1.5 1.5 0 001.5 3v10z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                </Td>\r\n              );\r\n            } else {\r\n              return (\r\n                <Td key={value.id}>\r\n                  {/* checkbox to signify friend is NOT included in expense, clicking will add friend */}\r\n\r\n                  <svg\r\n                    className=\"bi bi-x-square\"\r\n                    width=\"1em\"\r\n                    height=\"1em\"\r\n                    viewBox=\"0 0 16 16\"\r\n                    fill=\"currentColor\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    cursor=\"pointer\"\r\n                    onClick={() => this.addIncluded(expenses, value.id)}\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                </Td>\r\n              );\r\n            }\r\n          })}\r\n          {/* Expense Amount */}\r\n          <Td>${parseFloat(expenses.expenseAmount).toFixed(2)}</Td>\r\n        </Tr>\r\n      );\r\n    } else {\r\n      // if no expenses loaded from Firestore yet, signify loading\r\n      return \"loading\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // show expense table\r\n    return this.renderExpenseTable();\r\n  }\r\n}\r\n\r\n// connects to relevent Firestore collections and documents and passes to props\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.tripId}-expenses`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.tripId },\r\n        { collection: \"expenses\" },\r\n      ],\r\n    },\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.tripId}-friends`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.tripId },\r\n        { collection: \"friends\" },\r\n      ],\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { data } }, props) => ({\r\n    expensesObj: data[`${props.tripId}-expenses`],\r\n    friendsObj: data[`${props.tripId}-friends`],\r\n  }))\r\n)(ExpenseList);\r\n","import { useSelector } from \"react-redux\";\r\nimport { useFirestoreConnect } from \"react-redux-firebase\";\r\n\r\nexport default function WhoPaid(friendId) {\r\n  useFirestoreConnect(() => [{ collection: \"friends\", doc: friendId }]);\r\n  const friend = useSelector(\r\n    ({ firestore: { data } }) => data.friends && data.friends[friendId]\r\n  );\r\n  return friend;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\r\n\r\nimport ExpenseList from \"./ExpenseList\";\r\nimport WhoPaid from \"./WhoPaid.js\";\r\nimport FriendsInvolved from \"./FriendsInvolved\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\n\r\nclass RenderExpenseList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showForm: false,\r\n      expense: \"\",\r\n      amount: 0,\r\n      friendsInvolved: [\"\"],\r\n      whoPaid: \"\",\r\n      total: 0,\r\n      totals: {},\r\n    };\r\n  }\r\n\r\n  addTotalExpenses = () => {\r\n    const { expenses } = this.props;\r\n    let newTotal = 0;\r\n    for (let x in expenses) {\r\n      newTotal += Number(expenses[x].expenseAmount);\r\n    }\r\n    return newTotal;\r\n  };\r\n\r\n  renderFriend() {\r\n    const { friends } = this.props;\r\n    const friendSelect = (\r\n      <select\r\n        multiple={false}\r\n        value={this.state.whoPaid}\r\n        onChange={this.inputChange}\r\n        id=\"whoPaid\"\r\n        type=\"text\"\r\n        name=\"whoPaid\"\r\n      >\r\n        <option value=\"\">Select Option</option>\r\n\r\n        {_.map(friends, (value, key) => {\r\n          return <WhoPaid key={value.id} friends={value} />;\r\n        })}\r\n      </select>\r\n    );\r\n    if (!isEmpty(friends)) {\r\n      return <div>{friendSelect}</div>;\r\n    } else {\r\n      return <LoadingSpinner />;\r\n    }\r\n  }\r\n\r\n  renderFriendsInvolved() {\r\n    const { friends } = this.props;\r\n    const { friendsInvolved } = this.state;\r\n    const friendSelectMultiple = (\r\n      <select\r\n        multiple={true}\r\n        value={friendsInvolved}\r\n        onChange={this.inputChangeMultiple}\r\n        id=\"friendsInvolved\"\r\n        type=\"text\"\r\n      >\r\n        {_.map(friends, (value, key) => {\r\n          return (\r\n            <FriendsInvolved\r\n              key={value.id}\r\n              friends={value}\r\n              uid={this.props.uid}\r\n            />\r\n          );\r\n        })}\r\n      </select>\r\n    );\r\n\r\n    return <div>{friendSelectMultiple}</div>;\r\n  }\r\n\r\n  renderExpense() {\r\n    const { expenses, friends, firestore, tripId } = this.props;\r\n\r\n    const expensesList = _.map(expenses, (value, key) => {\r\n      return (\r\n        <ExpenseList\r\n          key={value.id}\r\n          expenses={value}\r\n          friends={friends}\r\n          firestore={firestore}\r\n          tripId={tripId}\r\n          uid={this.props.uid}\r\n        />\r\n      );\r\n    });\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      return expensesList;\r\n    }\r\n    return (\r\n      <Tr>\r\n        <Td className=\"mt-4\">\r\n          <h4>You have no expenses logged!</h4>\r\n        </Td>\r\n      </Tr>\r\n    );\r\n  }\r\n\r\n  totalPerPerson() {\r\n    const { friends, expenses } = this.props;\r\n    const friendsObj = {};\r\n\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      _.map(friends, (value, key) => {\r\n        for (let expense of expenses) {\r\n          if (\r\n            friendsObj[value.id] &&\r\n            expense.friendsInvolved.includes(value.id)\r\n          ) {\r\n            let bal = expense.expenseAmount / expense.friendsInvolved.length;\r\n            friendsObj[value.id] += bal;\r\n          } else if (\r\n            !friendsObj[value.id] &&\r\n            expense.friendsInvolved.includes(value.id)\r\n          ) {\r\n            let bal = expense.expenseAmount / expense.friendsInvolved.length;\r\n            friendsObj[value.id] = bal;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return friendsObj;\r\n  }\r\n\r\n  renderTotalPerPerson(friendsObj) {\r\n    const { friends } = this.props;\r\n    const map = _.map(friends, (value, key) => {\r\n      if (friendsObj[value.id]) {\r\n        return (\r\n          <Td key={value.id}>${parseFloat(friendsObj[value.id]).toFixed(2)}</Td>\r\n        );\r\n      } else {\r\n        return <Td key={value.id}>$0</Td>;\r\n      }\r\n    });\r\n    return map;\r\n  }\r\n\r\n  totalAmountPaidPerPerson() {\r\n    const { friends, expenses } = this.props;\r\n    const friendsObj = {};\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      _.map(friends, (value, key) => {\r\n        for (let expense of expenses) {\r\n          if (friendsObj[value.id] && expense.whoPaid.includes(value.id)) {\r\n            let bal = expense.expenseAmount;\r\n            friendsObj[value.id] += bal;\r\n          } else if (\r\n            !friendsObj[value.id] &&\r\n            expense.whoPaid.includes(value.id)\r\n          ) {\r\n            let bal = expense.expenseAmount;\r\n            friendsObj[value.id] = bal;\r\n          } else if (!friendsObj[value.id]) {\r\n            friendsObj[value.id] = 0;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    return friendsObj;\r\n  }\r\n\r\n  addTotalPaidExpenses = (obj) => {\r\n    let newTotal = 0;\r\n    for (let x in obj) {\r\n      newTotal += Number(obj[x]);\r\n    }\r\n    return newTotal;\r\n  };\r\n\r\n  renderTotalAmountPaidPerPerson() {\r\n    const { friends } = this.props;\r\n\r\n    const friendsObj = this.totalAmountPaidPerPerson();\r\n\r\n    const map1 = _.map(friends, (value, key) => {\r\n      if (friendsObj[value.id]) {\r\n        return <Td key={value.id}>${friendsObj[value.id].toFixed(2)}</Td>;\r\n      } else {\r\n        return <Td key={value.id}>$0</Td>;\r\n      }\r\n    });\r\n    return map1;\r\n  }\r\n\r\n  renderTotalDifferencePerPerson1() {\r\n    const { friends, expenses } = this.props;\r\n    let friendsObj = this.totalAmountPaidPerPerson();\r\n    let friendsObj1 = this.totalPerPerson();\r\n    let diffAmount = {};\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      _.map(friends, (value, key) => {\r\n        diffAmount[value.id] = 0;\r\n        if (friendsObj[value.id]) {\r\n          diffAmount[value.id] -= friendsObj1[value.id];\r\n        }\r\n\r\n        diffAmount[value.id] += friendsObj[value.id];\r\n      });\r\n    }\r\n  }\r\n\r\n  renderTotalDifferencePerPerson() {\r\n    const { friends, expenses } = this.props;\r\n    let friendsObj = this.totalAmountPaidPerPerson();\r\n    let friendsObj1 = this.totalPerPerson();\r\n    const diffAmount = {};\r\n    // const friendsObj = {};\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      _.map(friends, (value, key) => {\r\n        diffAmount[value.id] = 0;\r\n        diffAmount[value.id] += friendsObj[value.id] - friendsObj1[value.id];\r\n      });\r\n    }\r\n\r\n    const map = _.map(friends, (value, key) => {\r\n      if (diffAmount[value.id]) {\r\n        return <Td key={value.id}>${diffAmount[value.id].toFixed(2)}</Td>;\r\n      }\r\n    });\r\n\r\n    return map;\r\n  }\r\n\r\n  renderFriendHeader() {\r\n    const { friends } = this.props;\r\n    const friendsList = _.map(friends, (value, key) => {\r\n      console.log(key);\r\n      return <Th key={key}>{value.firstName}</Th>;\r\n    });\r\n    // console.log(friends);\r\n    if (!isEmpty(friends)) {\r\n      return friendsList;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mt-4\">\r\n        <Table\r\n          key={_.map(this.props.friends, (value, key) => {\r\n            return key;\r\n          })}\r\n          className={\"table table-striped table-bordered\"}\r\n        >\r\n          <Thead>\r\n            <Tr>\r\n              <Th>Expense Name</Th>\r\n              <Th>Who Paid</Th>\r\n              <Th>Cost Per Person</Th>\r\n              {/* Insert name of friend as table heading */}\r\n              {this.renderFriendHeader()}\r\n              <Th>Expense Amount</Th>\r\n            </Tr>\r\n          </Thead>\r\n          <Tbody>\r\n            {this.renderExpense()}\r\n            <Tr>\r\n              <Th colSpan=\"3\">Total Owed</Th>\r\n              {this.renderTotalPerPerson(this.totalPerPerson())}\r\n              <Td className=\"table-success\" style={{ color: \"black\" }}>\r\n                <strong>\r\n                  ${this.addTotalPaidExpenses(this.totalPerPerson())}\r\n                </strong>\r\n              </Td>\r\n            </Tr>\r\n            <Tr>\r\n              <Th colSpan=\"3\">Total Paid</Th>\r\n              {this.renderTotalAmountPaidPerPerson()}\r\n              <Td className=\"table-success\" style={{ color: \"black\" }}>\r\n                <strong>\r\n                  ${this.addTotalPaidExpenses(this.totalAmountPaidPerPerson())}\r\n                </strong>\r\n              </Td>\r\n            </Tr>\r\n            <Tr>\r\n              {/* TODO: have conditional colors for cells */}\r\n              <Th colSpan=\"3\">Difference</Th>\r\n              {this.renderTotalDifferencePerPerson()}\r\n            </Tr>\r\n          </Tbody>\r\n        </Table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  // gets clients from firestore and puts them in the clients prop\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.tripId}-expenses`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.tripId },\r\n        { collection: \"expenses\" },\r\n      ],\r\n    },\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.tripId}-friends`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.tripId },\r\n        { collection: \"friends\" },\r\n      ],\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    expenses: ordered[`${props.tripId}-expenses`],\r\n    friends: ordered[`${props.tripId}-friends`],\r\n  }))\r\n)(RenderExpenseList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport FriendsInvolved from \"./FriendsInvolved\";\r\n\r\nclass AddExpense extends Component {\r\n  state = {\r\n    showForm: false,\r\n    expense: \"\",\r\n    amount: 0,\r\n    friendsInvolved: [\"\"],\r\n    whoPaid: \"\",\r\n    total: 0,\r\n  };\r\n\r\n  inputChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  inputChangeMultiple = (e) => {\r\n    this.setState({\r\n      friendsInvolved: Array.from(\r\n        e.target.selectedOptions,\r\n        (item) => item.value\r\n      ),\r\n    });\r\n  };\r\n\r\n  renderFriend() {\r\n    const { friends } = this.props;\r\n    const friendSelect = (\r\n      <select\r\n        multiple={false}\r\n        value={this.state.whoPaid}\r\n        onChange={this.inputChange}\r\n        className=\"form-control\"\r\n        id=\"whoPaid\"\r\n        type=\"text\"\r\n        name=\"whoPaid\"\r\n      >\r\n        <option value=\"\">Select Option</option>\r\n        {_.map(friends, (value, key) => {\r\n          return <option value={value.id}>{value.firstName}</option>;\r\n        })}\r\n      </select>\r\n    );\r\n\r\n    return friendSelect;\r\n  }\r\n\r\n  renderFriendsInvolved() {\r\n    const { friends } = this.props;\r\n    const { friendsInvolved } = this.state;\r\n    const friendSelectMultiple = (\r\n      <select\r\n        multiple={true}\r\n        value={friendsInvolved}\r\n        onChange={this.inputChangeMultiple}\r\n        className=\"form-control\"\r\n        id=\"friendsInvolved\"\r\n        type=\"text\"\r\n      >\r\n        {_.map(friends, (value, key) => {\r\n          return <FriendsInvolved key={value.id} friends={value} />;\r\n        })}\r\n      </select>\r\n    );\r\n\r\n    return <div>{friendSelectMultiple}</div>;\r\n  }\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { expense, amount, friendsInvolved, whoPaid } = this.state;\r\n    const { firestore, uid } = this.props;\r\n\r\n    firestore\r\n      .add(\r\n        {\r\n          collection: \"users\",\r\n          doc: uid,\r\n          subcollections: [\r\n            { collection: \"trips\", doc: this.props.id },\r\n            { collection: \"expenses\" },\r\n          ],\r\n        },\r\n        {\r\n          name: expense,\r\n          expenseAmount: Number(amount),\r\n          friendsInvolved: friendsInvolved,\r\n          whoPaid: whoPaid,\r\n        }\r\n      )\r\n      .then((docRef) => {\r\n        console.log(\"Document written with ID: \", docRef.id);\r\n      });\r\n\r\n    this.setState({\r\n      expense: \"\",\r\n      amount: 0,\r\n      friendsInvolved: [\"\"],\r\n      whoPaid: \"\",\r\n    });\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { showForm, expense, amount } = this.state;\r\n    if (showForm) {\r\n      return (\r\n        <div className=\"card mt-3 pl-1\">\r\n          <div className=\"card-header\">Add Expense</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.formSubmit}>\r\n              <div className=\"form-group\">\r\n                <label>Cost</label>\r\n                <input\r\n                  value={expense}\r\n                  className=\"form-control\"\r\n                  onChange={this.inputChange}\r\n                  id=\"friendNext\"\r\n                  type=\"text\"\r\n                  name=\"expense\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Amount</label>\r\n                <input\r\n                  value={amount}\r\n                  onChange={this.inputChange}\r\n                  className=\"form-control\"\r\n                  type=\"number\"\r\n                  id=\"amount\"\r\n                  name=\"amount\"\r\n                />\r\n              </div>\r\n              {/* Friends involved */}\r\n              <div className=\"form-group\">\r\n                <label>Friends Involved {\"\"}</label>\r\n                {this.renderFriendsInvolved()}\r\n              </div>\r\n              {/* Who Paid */}\r\n              <div className=\"form-group\">\r\n                <label>Who Paid</label>\r\n                {this.renderFriend()}\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Submit\"\r\n                className=\"btn btn-success btn-block\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          // marginLeft: \"5%\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        {showForm ? (\r\n          <button\r\n            className=\"btn btn-danger btn-block mt-4\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Close\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-secondary btn-block mt-4\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Add Expense{\" \"}\r\n          </button>\r\n        )}\r\n        <div>\r\n          <div className=\"\">{this.renderForm()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.id}-expenses`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.id },\r\n        { collection: \"expenses\" },\r\n      ],\r\n    },\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.id}-friends`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.id },\r\n        { collection: \"friends\" },\r\n      ],\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    friends: ordered[`${props.id}-friends`],\r\n    expenses: ordered[`${props.id}-expenses`],\r\n  }))\r\n)(AddExpense);\r\n","import React from \"react\";\r\nimport RenderExpenseList from \"../expense/RenderExpenseList\";\r\nimport AddExpense from \"../expense/AddExpense\";\r\n\r\nexport default function MainViewContainer(props) {\r\n  return (\r\n    <div className=\"pl-4 pr-4\">\r\n      <RenderExpenseList tripId={props.id} uid={props.uid} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\n\r\nclass EditFriend extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // Create refs\r\n    this.firstNameInput = React.createRef();\r\n  }\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { firestore, friend } = this.props;\r\n\r\n    // Update friend\r\n    const updFriend = {\r\n      firstName: this.firstNameInput.current.value,\r\n    };\r\n\r\n    // update friend in firestore\r\n    firestore.update({ collection: \"friends\", doc: friend.id }, updFriend);\r\n  };\r\n\r\n  render() {\r\n    const { friend } = this.props;\r\n    if (this.props) {\r\n      return (\r\n        <div>\r\n          <div className=\"card mb-4 mt-4 \">\r\n            <div className=\"card-header\">Edit Friend</div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={this.formSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"firstName\">First Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"firstName\"\r\n                    minLength=\"2\"\r\n                    required\r\n                    ref={this.firstNameInput}\r\n                    defaultValue={friend.firstName}\r\n                  />\r\n                </div>\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <LoadingSpinner />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  // gets friends from firestore and puts them in the friends prop\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"friends\",\r\n      storeAs: \"friend\",\r\n      doc: props.id,\r\n    },\r\n  ]),\r\n  connect(({ firestore: { data } }, props) => ({\r\n    friend: data.friend && data.friend[props.id],\r\n  }))\r\n)(EditFriend);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport EditFriend from \"./EditFriend\";\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\r\n\r\nclass FriendDetails extends Component {\r\n  state = {\r\n    showForm: false,\r\n  };\r\n\r\n  handleDelete = () => {\r\n    const { friends, firestore, uid } = this.props;\r\n    firestore.delete({\r\n      collection: \"users\",\r\n      doc: uid,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: this.props.tripId },\r\n        { collection: \"friends\", doc: friends.id },\r\n      ],\r\n    });\r\n  };\r\n\r\n  renderWhoseInvolved(id) {\r\n    const { friend } = this.props;\r\n    return <Td>{friend[id].firstName}</Td>;\r\n  }\r\n\r\n  renderEditForm(id) {\r\n    const { showForm } = this.state;\r\n\r\n    if (showForm) {\r\n      return <EditFriend id={id} firstName={this.props.friend.firstName} />;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const editIcon = (\r\n      <svg\r\n        className=\"bi bi-pencil-square\"\r\n        width=\"1em\"\r\n        height=\"1em\"\r\n        viewBox=\"0 0 16 16\"\r\n        fill=\"currentColor\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        cursor=\"pointer\"\r\n      >\r\n        <path d=\"M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z\" />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          d=\"M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z\"\r\n          clipRule=\"evenodd\"\r\n        />\r\n      </svg>\r\n    );\r\n    const { friends } = this.props;\r\n    const { showForm } = this.state;\r\n    return (\r\n      <Tbody>\r\n        <Tr key={friends.id}>\r\n          <Td>\r\n            {friends.firstName}{\" \"}\r\n            <div style={{ float: \"right\" }}>\r\n              <svg\r\n                className=\"bi bi-trash-fill ml-2\"\r\n                width=\"1em\"\r\n                height=\"1em\"\r\n                viewBox=\"0 0 16 16\"\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                onClick={this.handleDelete}\r\n                cursor=\"pointer\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M2.5 1a1 1 0 00-1 1v1a1 1 0 001 1H3v9a2 2 0 002 2h6a2 2 0 002-2V4h.5a1 1 0 001-1V2a1 1 0 00-1-1H10a1 1 0 00-1-1H7a1 1 0 00-1 1H2.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM8 5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 018 5zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              {this.renderEditForm(friends.id)}\r\n              <span\r\n                className=\"ml-2\"\r\n                onClick={() => this.setState({ showForm: !showForm })}\r\n              >\r\n                {showForm ? (\r\n                  <button>\r\n                    <i>Close</i>\r\n                  </button>\r\n                ) : (\r\n                  editIcon\r\n                )}\r\n              </span>\r\n            </div>\r\n          </Td>\r\n        </Tr>\r\n      </Tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FriendDetails;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport _ from \"lodash\";\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\r\n\r\nimport FriendDetails from \"./FriendDetails\";\r\nimport EditFriend from \"./EditFriend\";\r\n\r\nclass Friends extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showForm: false,\r\n      firstName: \"\",\r\n    };\r\n  }\r\n\r\n  inputChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { firestore, uid } = this.props;\r\n    const { firstName } = this.state;\r\n    firestore\r\n      .add(\r\n        {\r\n          collection: \"users\",\r\n          doc: uid,\r\n          subcollections: [\r\n            { collection: \"trips\", doc: this.props.id },\r\n            { collection: \"friends\" },\r\n          ],\r\n        },\r\n        { firstName: firstName }\r\n      )\r\n      .then((docRef) => {\r\n        console.log(\"Document written with ID: \", docRef.id);\r\n      });\r\n\r\n    this.setState({ firstName: \"\" });\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { showForm, firstName } = this.state;\r\n    if (showForm) {\r\n      return (\r\n        <div className=\"card mb-4 mt-4 \">\r\n          <div className=\"card-header\">Add Friend</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.formSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"firstName\">First Name</label>\r\n                <input\r\n                  value={firstName}\r\n                  onChange={this.inputChange}\r\n                  id=\"friendNext\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"firstName\"\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Submit\"\r\n                className=\"btn btn-primary btn-block\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderFriend = (props) => {\r\n    const { friends, uid } = this.props;\r\n    const friendsList = _.map(friends, (value, key) => {\r\n      return (\r\n        <FriendDetails\r\n          key={value.id}\r\n          friends={value}\r\n          tripId={this.props.id}\r\n          firestore={this.props.firestore}\r\n          uid={uid}\r\n        />\r\n      );\r\n    });\r\n\r\n    if (friends) {\r\n      return friendsList;\r\n    } else {\r\n      return (\r\n        <Tbody>\r\n          <Tr>\r\n            <Td>Loading</Td>\r\n          </Tr>\r\n        </Tbody>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        {showForm ? (\r\n          <button\r\n            className=\"btn btn-danger btn-block mt-4\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Close\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-secondary btn-block mt-4\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Add Friend\r\n          </button>\r\n        )}\r\n        {this.renderForm()}\r\n        <Table className=\" mt-4\">\r\n          <Thead>\r\n            <Tr>\r\n              <Th>Friend Name</Th>\r\n            </Tr>\r\n          </Thead>\r\n          {this.renderFriend()}\r\n        </Table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.id}-friends`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.id },\r\n        { collection: \"friends\" },\r\n      ],\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    friends: ordered[`${props.id}-friends`],\r\n  }))\r\n)(Friends);\r\n","import React, { Component } from \"react\";\r\nimport Friends from \"../friends/Friends.js\";\r\nimport AddExpense from \"../expense/AddExpense.js\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useParams,\r\n} from \"react-router-dom\";\r\n\r\nexport default function Sidebar(props) {\r\n  const { id } = useParams();\r\n  return (\r\n    <div>\r\n      <div className=\"nav-wrapper mt-3\" style={{}} id=\"sidebar\">\r\n        <>\r\n          <div class=\"alert alert-info mt-4\" role=\"alert\">\r\n            Add friend or friends prior to adding expense!\r\n          </div>\r\n          <AddExpense id={id} uid={props.uid} />\r\n          <Friends id={id} uid={props.uid} />\r\n        </>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport MainViewContainer from \"../layout/MainViewContainer\";\r\nimport Sidebar from \"../layout/Sidebar\";\r\n\r\nexport class Trip extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"mainView\">\r\n        <nav>\r\n          <Sidebar id={this.props.id} uid={this.props.uid} />\r\n        </nav>\r\n        <div className=\"mainViewContainer\">\r\n          <MainViewContainer id={this.props.id} uid={this.props.uid} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Trip;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\nimport AddNewTrip from \"./AddNewTrip\";\r\nimport ListTrips from \"./ListTrips\";\r\nimport Trip from \"./Trip.js\";\r\nimport Sidebar from \"../layout/Sidebar\";\r\nimport MainViewContainer from \"../layout/MainViewContainer\";\r\nimport RenderExpenseList from \"../expense/RenderExpenseList\";\r\n\r\nclass AllTrips extends Component {\r\n  render() {\r\n    const { trips } = this.props;\r\n    return (\r\n      <div>\r\n        {!this.props.uid ? (\r\n          <LoadingSpinner />\r\n        ) : (\r\n          <>\r\n            <Router>\r\n              <Switch>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      // className=\"card\"\r\n                      style={{\r\n                        // padding: \"3%\",\r\n                        width: \"45rem\",\r\n                      }}\r\n                    >\r\n                      {/* <h4>All Trips</h4> */}\r\n                      <AddNewTrip uid={this.props.uid} />\r\n                      <ListTrips uid={this.props.uid} />\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <Route\r\n                      path=\"/trip/:id\"\r\n                      render={({ match }) => (\r\n                        <Trip id={match.params.id} uid={this.props.uid} />\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </Switch>\r\n            </Router>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      subcollections: [{ collection: \"trips\" }],\r\n      storeAs: `${props.uid}-trips`,\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { data } }, props) => ({\r\n    trips: data[`${props.uid}-trips`],\r\n  }))\r\n)(AllTrips);\r\n","import { NOTIFY_USER } from \"./types\";\r\n\r\nexport const notifyUser = (message, messageType) => {\r\n  return {\r\n    type: NOTIFY_USER,\r\n    message,\r\n    messageType,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nconst Alert = (props) => {\r\n  const { message, messageType } = props;\r\n  return (\r\n    <div\r\n      className={classnames(\"alert\", {\r\n        \"alert-success\": messageType === \"success\",\r\n        \"alert-danger\": messageType === \"error\",\r\n      })}\r\n    >\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { Component } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n// import { firestoreConnect } from \"react-redux-firebase\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password } = this.state;\r\n\r\n    firebase\r\n      .login({\r\n        email,\r\n        password,\r\n      })\r\n      .catch((err) => notifyUser(\"Invalid Login Info\", \"error\"))\r\n      .then(this.props.history.push(\"/\"));\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    console.log(this.state);\r\n    const { message, messageType } = this.props.notify;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 mx-auto\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              {message ? (\r\n                <Alert message={message} messageType={messageType} />\r\n              ) : null}\r\n              <h1 className=\"text-center pb-4 pt-3\">\r\n                <span className=\"text-primary\">\r\n                  <i className=\"fa fa-lock\"></i>\r\n                  {\"\"}\r\n                  Login\r\n                </span>\r\n              </h1>\r\n              <form onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Email</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"email\"\r\n                    required\r\n                    value={this.state.email}\r\n                    onChange={this.onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                    required\r\n                    value={this.state.password}\r\n                    onChange={this.onChange}\r\n                  />\r\n                </div>\r\n\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Login\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify,\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Login);\r\n","import React, { Component } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n// import { firestoreConnect } from \"react-redux-firebase\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  componentWillMount() {\r\n    // const { allowRegistration } = this.props.settings;\r\n    // if (!allowRegistration) {\r\n    //   this.props.history.push(\"/\");\r\n    // }\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password } = this.state;\r\n\r\n    // Register with firebase\r\n    firebase\r\n      .createUser({ email, password })\r\n      .catch((err) => notifyUser(\"User Already Exists\", \"error\"))\r\n      .then(this.props.history.push(\"/\"));\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  render() {\r\n    const { message, messageType } = this.props.notify;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 mx-auto\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              {message ? (\r\n                <Alert message={message} messageType={messageType} />\r\n              ) : null}\r\n              <h1 className=\"text-center pb-4 pt-3\">\r\n                <span className=\"text-primary\">\r\n                  <i className=\"fa fa-lock\"></i> Register\r\n                </span>\r\n              </h1>\r\n              <form onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Email</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"email\"\r\n                    required\r\n                    value={this.state.email}\r\n                    onChange={this.onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                    required\r\n                    value={this.state.password}\r\n                    onChange={this.onChange}\r\n                  />\r\n                </div>\r\n\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Register\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify,\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Register);\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport \"react-super-responsive-table/dist/SuperResponsiveTableStyle.css\";\r\nimport { UserIsAuthenticated, UserIsNotAuthenticated } from \"./helpers/auth\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport { compose } from \"redux\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\n\r\nimport Navbar from \"./components/layout/Navbar\";\r\nimport AllTrips from \"./components/trips/AllTrips\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Register from \"./components/auth/Register\";\r\nimport LoadingSpinner from \"./components/loading/LoadingSpinner\";\r\nimport { queryAllByAltText } from \"@testing-library/react\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    const { auth } = this.props;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <header>\r\n          <Navbar />\r\n        </header>\r\n        <main className=\"main\">\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path=\"/login\"\r\n              component={UserIsNotAuthenticated(Login)}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/register\"\r\n              component={UserIsNotAuthenticated(Register)}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/\"\r\n              component={UserIsAuthenticated(() => (\r\n                <AllTrips uid={auth.uid} />\r\n              ))}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/\"\r\n              component={UserIsNotAuthenticated(LoadingSpinner)}\r\n            />\r\n          </Switch>\r\n        </main>\r\n        {/* <aside>side</aside> */}\r\n        <footer>{/* <div>Footer</div> */}</footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default App;\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect((state) => ({\r\n    auth: state.firebase.auth,\r\n  }))\r\n)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { ReactReduxFirebaseProvider } from \"react-redux-firebase\";\r\nimport store, { rrfProps } from \"./store\";\r\n\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ReactReduxFirebaseProvider {...rrfProps}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </ReactReduxFirebaseProvider>\r\n  </Provider>,\r\n\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}