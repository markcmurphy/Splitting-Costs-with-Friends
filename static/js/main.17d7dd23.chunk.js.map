{"version":3,"sources":["reducers/notifyReducer.js","store.js","reducers/data.js","actions/index.js","actions/types.js","reducers/expenseData.js","components/loading/LoadingSpinner.js","helpers/auth.js","components/layout/Navbar.js","components/trips/AddNewTrip.js","components/trips/ListTrips.js","components/expense/FriendsInvolved.js","components/expense/EditExpense.js","components/expense/ExpenseList.js","components/expense/WhoPaid.js","components/expense/RenderExpenseList.js","components/expense/AddExpense.js","components/layout/MainViewContainer.js","components/friends/EditFriend.js","components/friends/FriendDetails.js","components/friends/Friends.js","components/layout/Sidebar.js","components/trips/Trip.js","components/trips/AllTrips.js","actions/notifyActions.js","components/layout/Alert.js","components/auth/Login.js","components/auth/Register.js","App.js","serviceWorker.js","index.js"],"names":["initialState","message","messageType","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","rootReducer","combineReducers","firebaseReducer","firestoreReducer","data","state","action","type","payload","notify","expenseData","store","createStore","compose","window","__REDUX_DEVTOOLS_EXTENSION__","rrfProps","config","userProfile","useFirestoreForProfile","dispatch","createFirestoreInstance","LoadingSpinner","className","role","locationHelper","locationHelperBuilder","UserIsAuthenticated","createHistory","connectedRouterRedirect","wrapperDisplayName","AuthenticatingComponent","allowRedirectBack","redirectPath","ownProps","getRedirectQueryParam","authenticatingSelector","auth","isInitializing","profile","isLoaded","authenticatedSelector","isEmpty","UserIsNotAuthenticated","Navbar","isAuthenticated","onLogoutClick","e","preventDefault","props","logout","this","to","data-toggle","data-target","id","href","email","onClick","uid","Component","firebaseConnect","connect","AddNewTrip","showForm","tripName","inputChange","setState","target","name","value","formSubmit","docRefConfig","collection","doc","subcollections","add","then","docRef","console","log","renderForm","onSubmit","onChange","firestoreConnect","storeAs","expenses","friends","trips","ListTrips","tripID","map","item","key","pathname","ordered","FriendsInvolved","firstName","EditExpense","friendsInvolved","inputChangeMultiple","selectedOptions","Array","from","_","tripId","expenseId","updExpense","nameInput","current","expenseAmount","Number","amountInput","whoPaid","whoPaidInput","update","React","createRef","friendsInvolvedInput","multiple","defaultValue","ref","friendSelectMultiple","expense","amount","htmlFor","minLength","required","renderFriendsInvolved","renderFriend","ExpenseList","handleDelete","delete","handleInputChange","checked","addIncluded","concat","removeIncluded","filter","includes","isIncluded","friendsObj","expensesObj","editIcon","width","height","viewBox","fill","xmlns","cursor","d","fillRule","clipRule","renderEditForm","style","float","renderWhoPaid","parseFloat","length","toFixed","renderExpenseTable","WhoPaid","friendId","useFirestoreConnect","useSelector","RenderExpenseList","addTotalExpenses","newTotal","x","addTotalPaidExpenses","obj","total","totals","friendSelect","expensesList","bal","totalAmountPaidPerPerson","friendsObj1","totalPerPerson","diffAmount","friendsList","renderFriendHeader","renderExpense","colSpan","renderTotalPerPerson","color","renderTotalAmountPaidPerPerson","renderTotalDifferencePerPerson","AddExpense","MainViewContainer","EditFriend","friend","updFriend","firstNameInput","FriendDetails","Friends","Sidebar","useParams","class","path","render","Trip","AllTrips","display","justifyContent","match","params","notifyUser","Alert","classnames","Login","password","login","catch","err","history","push","Register","createUser","App","basename","exact","component","backgroundColor","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.17d7dd23.chunk.js","sourcesContent":["import { NOTIFY_USER } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  message: null,\r\n  messageType: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case NOTIFY_USER:\r\n      return {\r\n        ...state,\r\n        message: action.message,\r\n        messageType: action.messageType,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import firebase from \"firebase\";\r\nimport { createStore, combineReducers, compose } from \"redux\";\r\nimport \"firebase/firestore\";\r\nimport { firebaseReducer } from \"react-redux-firebase\";\r\nimport { firestoreReducer } from \"redux-firestore\";\r\nimport { createFirestoreInstance } from \"redux-firestore\";\r\n\r\n// Reducers\r\nimport data from \"./reducers/data\";\r\nimport expenseData from \"./reducers/expenseData\";\r\nimport notifyReducer from \"./reducers/notifyReducer\";\r\n\r\nconst fbConfig = {\r\n  apiKey: process.env.REACT_APP_APIKEY,\r\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASEURL,\r\n  projectId: process.env.REACT_APP_PROJECTID,\r\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\r\n  appId: process.env.REACT_APP_APPID,\r\n};\r\n\r\n// react-redux-firebase config\r\nconst rrfConfig = {\r\n  userProfile: \"users\",\r\n  useFirestoreForProfile: true,\r\n};\r\n\r\n// Init firebase instance\r\nfirebase.initializeApp(fbConfig);\r\n\r\n// Init firestore\r\nconst firestore = firebase.firestore();\r\n\r\n// Add firebase to reducers\r\nconst rootReducer = combineReducers({\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer,\r\n  data: data,\r\n  notify: notifyReducer,\r\n  expenseData: expenseData,\r\n});\r\n\r\nconst initialState = {};\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport const rrfProps = {\r\n  firebase,\r\n  config: rrfConfig,\r\n  dispatch: store.dispatch,\r\n  createFirestoreInstance,\r\n};\r\n\r\nexport default store;\r\n","import { FETCH_FRIENDS } from \"../actions/index.js\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_FRIENDS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","// import { totalsRef, friendsRef, expensesRef } from \"../store\";\r\nconst FETCH_FRIENDS = \"FETCH_FRIENDS\";\r\nconst FETCH_EXPENSES = \"FETCH_EXPENSES\";\r\n\r\nconst addFriend = (newFriend) => async (dispatch) => {\r\n  // friendsRef.push().set(newFriend);\r\n  console.log(\"addFriend ran\");\r\n};\r\n\r\n// const addExpense = (newExpense) => async (dispatch) => {\r\n//   expensesRef.push().set(newExpense);\r\n//   console.log(newExpense);\r\n// };\r\n\r\n// const addTotal = (newTotal) => async (dispatch) => {\r\n//   totalsRef.push().set(newTotal);\r\n//   console.log(\"addTotal ran\");\r\n// };\r\n\r\n// const deleteFriend = (deleteFriend) => async (dispatch) => {\r\n//   friendsRef.child(deleteFriend).remove();\r\n// };\r\n\r\n// const deleteExpense = (deleteExpense) => async (dispatch) => {\r\n//   expensesRef.child(deleteExpense).remove();\r\n// };\r\n\r\n// const fetchFriends = () => async (dispatch) => {\r\n//   friendsRef.on(\"value\", (snapshot) => {\r\n//     dispatch({\r\n//       type: FETCH_FRIENDS,\r\n//       payload: snapshot.val(),\r\n//     });\r\n//   });\r\n// };\r\n\r\n// const fetchExpenses = () => async (dispatch) => {\r\n//   expensesRef.on(\"value\", (snapshot) => {\r\n//     dispatch({\r\n//       type: FETCH_EXPENSES,\r\n//       payload: snapshot.val(),\r\n//     });\r\n//   });\r\n// };\r\n\r\nexport {\r\n  addFriend,\r\n  // deleteFriend,\r\n  // deleteExpense,\r\n  // fetchFriends,\r\n  // fetchExpenses,\r\n  // addExpense,\r\n  // addTotal,\r\n  FETCH_FRIENDS,\r\n  FETCH_EXPENSES,\r\n};\r\n","export const NOTIFY_USER = \"NOTIFY_USER\";\r\nexport const ALLOW_REGISTRATION = \"ALLOW_REGISTRATION\";\r\n","import { FETCH_EXPENSES } from \"../actions/index.js\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_EXPENSES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function LoadingSpinner() {\r\n  return (\r\n    <div className=\"spinner-border\" role=\"status\">\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  );\r\n}\r\n","import locationHelperBuilder from \"redux-auth-wrapper/history4/locationHelper\";\r\nimport { connectedRouterRedirect } from \"redux-auth-wrapper/history4/redirect\";\r\nimport createHistory from \"history/createBrowserHistory\";\r\nimport LoadingSpinner from \"../components/loading/LoadingSpinner\";\r\n\r\nconst locationHelper = locationHelperBuilder({});\r\nconst browserHistory = createHistory();\r\n\r\nexport const UserIsAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsAuthenticated\",\r\n  AuthenticatingComponent: LoadingSpinner,\r\n  allowRedirectBack: true,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/login\",\r\n  authenticatingSelector: ({ firebase: { auth, profile, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && !auth.isEmpty,\r\n});\r\n\r\nexport const UserIsNotAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsNotAuthenticated\",\r\n  AuthenticatingComponent: LoadingSpinner,\r\n  allowRedirectBack: false,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/\",\r\n  authenticatingSelector: ({ firebase: { auth, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && auth.isEmpty,\r\n});\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\n\r\nclass Navbar extends Component {\r\n  state = {\r\n    isAuthenticated: false,\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { auth } = props;\r\n\r\n    if (auth.uid) {\r\n      return { isAuthenticated: true };\r\n    } else {\r\n      return { isAuthenticated: false };\r\n    }\r\n  }\r\n\r\n  onLogoutClick = (e) => {\r\n    e.preventDefault();\r\n    const { firebase } = this.props;\r\n    firebase.logout();\r\n  };\r\n\r\n  render() {\r\n    const { isAuthenticated } = this.state;\r\n    const { auth } = this.props;\r\n    return (\r\n      <div className=\"navbar navbar-expand-md navbar-dark bg-primary mb-4\">\r\n        <div className=\"container\">\r\n          <Link to=\"/\" className=\"navbar-brand\">\r\n            Splitting Costs with Friends!\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-toggle=\"collapse\"\r\n            data-target=\"#navbarMain\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarMain\">\r\n            {/* <ul className=\"navbar-nav mr-auto\">\r\n              {isAuthenticated ? (\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/\" className=\"nav-link\">\r\n                    Dashboard\r\n                  </Link>\r\n                </li>\r\n              ) : null}\r\n            </ul> */}\r\n            {isAuthenticated ? (\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"nav-item\">\r\n                  <a href=\"#!\" className=\"nav-link\">\r\n                    {auth.email}\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a\r\n                    href=\"#!\"\r\n                    className=\"nav-link\"\r\n                    onClick={this.onLogoutClick}\r\n                  >\r\n                    Logout\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            ) : null}\r\n\r\n            {!isAuthenticated ? (\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/login\" className=\"nav-link\">\r\n                    Login\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/register\" className=\"nav-link\">\r\n                    Register\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect((state, props) => ({\r\n    auth: state.firebase.auth,\r\n  }))\r\n)(Navbar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nclass AddNewTrip extends Component {\r\n  state = {\r\n    showForm: false,\r\n    tripName: \"\",\r\n  };\r\n\r\n  inputChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { tripName } = this.state;\r\n    const { firestore, uid } = this.props;\r\n    const docRefConfig = {\r\n      collection: \"users\",\r\n      doc: uid,\r\n      subcollections: [{ collection: \"trips\" }],\r\n    };\r\n    firestore.add(docRefConfig, { tripName: tripName }).then((docRef) => {\r\n      console.log(\"Document written with ID: \", docRef.id);\r\n    });\r\n\r\n    this.setState({\r\n      tripName: \"\",\r\n    });\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { showForm, tripName } = this.state;\r\n    if (showForm) {\r\n      return (\r\n        <div className=\"card mt-3 pl-1\">\r\n          <div className=\"card-header\">Add Expense</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.formSubmit}>\r\n              <div className=\"form-group\">\r\n                <label>Trip Name</label>\r\n                <input\r\n                  value={tripName}\r\n                  className=\"form-control\"\r\n                  onChange={this.inputChange}\r\n                  id=\"tripName\"\r\n                  type=\"text\"\r\n                  name=\"tripName\"\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Submit\"\r\n                className=\"btn btn-success btn-block\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n\r\n    return (\r\n      <div\r\n      // style={{\r\n      //   display: \"flex\",\r\n      //   flexDirection: \"column\",\r\n      //   justifyContent: \"center\",\r\n      // }}\r\n      >\r\n        {showForm ? (\r\n          <button\r\n            className=\"btn btn-danger btn-block\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Close\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-secondary btn-block\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Add Trip{\" \"}\r\n          </button>\r\n        )}\r\n        <div>\r\n          <div className=\"\">{this.renderForm()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"expenses\",\r\n      storeAs: \"expense\",\r\n    },\r\n    {\r\n      collection: \"friends\",\r\n      storeAs: \"friend\",\r\n    },\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      subcollections: [{ collection: \"trips\" }],\r\n      storeAs: `${props.uid}-trips`,\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { data } }, props) => ({\r\n    expenses: data.expenses,\r\n    friends: data.friends,\r\n    trips: data[`${props.uid}-trips`],\r\n  }))\r\n)(AddNewTrip);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\n\r\nclass ListTrips extends Component {\r\n  state = {\r\n    showForm: false,\r\n    tripID: \"\",\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { showForm } = this.state;\r\n    const { trips, uid } = this.props;\r\n\r\n    if (!showForm) {\r\n      return (\r\n        <ul className=\"list-group mt-4\">\r\n          <li className=\"list-group-item active\">All Trips</li>\r\n          {trips ? (\r\n            trips.map((item) => {\r\n              return (\r\n                <li className=\"list-group-item\" key={item.id}>\r\n                  <Link\r\n                    to={{\r\n                      pathname: `/trip/${item.id}`,\r\n                      // tripProps: {\r\n                      //   uid: \"uid\",\r\n                      // },\r\n                    }}\r\n                  >\r\n                    {item.tripName}\r\n                  </Link>\r\n                </li>\r\n              );\r\n            })\r\n          ) : (\r\n            <LoadingSpinner />\r\n          )}\r\n        </ul>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n\r\n    console.log(this.props);\r\n    const { trips, uid } = this.props;\r\n\r\n    return (\r\n      <div\r\n      // style={{\r\n      //   display: \"flex\",\r\n      //   flexDirection: \"column\",\r\n      //   justifyContent: \"center\",\r\n      // }}\r\n      >\r\n        {showForm ? (\r\n          <button\r\n            className=\"btn btn-secondary mt-4 btn-block\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Display All Trips\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-danger mt-4 btn-block\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Close Trip List\r\n          </button>\r\n        )}\r\n        <div>\r\n          <div className=\"\">{this.renderForm()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      subcollections: [{ collection: \"trips\" }],\r\n      storeAs: `${props.uid}-trips`,\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    trips: ordered[`${props.uid}-trips`],\r\n  }))\r\n)(ListTrips);\r\n","import React from \"react\";\r\n\r\nexport default function FriendsInvolved(props) {\r\n  const { friends } = props;\r\n  return <option value={friends.id}>{friends.firstName}</option>;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\nimport FriendsInvolved from \"./FriendsInvolved\";\r\n\r\nclass EditExpense extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // Create refs\r\n    this.nameInput = React.createRef();\r\n    this.amountInput = React.createRef();\r\n    this.friendsInvolvedInput = React.createRef();\r\n    this.whoPaidInput = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    friendsInvolved: this.props.friendsInvolved,\r\n  };\r\n\r\n  renderFriend() {\r\n    const { friends, whoPaid } = this.props;\r\n\r\n    const friendSelect = (\r\n      <select\r\n        multiple={false}\r\n        defaultValue={whoPaid}\r\n        className=\"form-control\"\r\n        id=\"whoPaid\"\r\n        type=\"text\"\r\n        name=\"whoPaid\"\r\n        ref={this.whoPaidInput}\r\n      >\r\n        <option value=\"\">Select Option</option>\r\n        {_.map(friends, (value, key) => {\r\n          return <option value={value.id}>{value.firstName}</option>;\r\n        })}\r\n      </select>\r\n    );\r\n\r\n    return friendSelect;\r\n  }\r\n\r\n  inputChangeMultiple = (e) => {\r\n    console.log(e.target.selectedOptions);\r\n    this.setState({\r\n      friendsInvolved: Array.from(\r\n        e.target.selectedOptions,\r\n        (item) => item.value\r\n      ),\r\n    });\r\n\r\n    const optionValues = _.map(e.target.selectedOptions, (value, key) => {\r\n      return value.value;\r\n    });\r\n  };\r\n\r\n  renderFriendsInvolved() {\r\n    const { friendsInvolved, friends, uid } = this.props;\r\n    console.log(this.props);\r\n    const friendSelectMultiple = (\r\n      <select\r\n        multiple={true}\r\n        defaultValue={friendsInvolved}\r\n        onChange={this.inputChangeMultiple}\r\n        className=\"form-control\"\r\n        id=\"friendsInvolved\"\r\n        type=\"text\"\r\n      >\r\n        {_.map(friends, (value, key) => {\r\n          return <FriendsInvolved key={value.id} friends={value} uid={uid} />;\r\n        })}\r\n      </select>\r\n    );\r\n    return <div>{friendSelectMultiple}</div>;\r\n  }\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { firestore, tripId, expenseId, uid } = this.props;\r\n\r\n    // Update expense\r\n    const updExpense = {\r\n      name: this.nameInput.current.value,\r\n      expenseAmount: Number(this.amountInput.current.value),\r\n      friendsInvolved: this.state.friendsInvolved,\r\n      whoPaid: this.whoPaidInput.current.value,\r\n    };\r\n\r\n    // update expense in firestore\r\n    firestore.update(\r\n      {\r\n        collection: \"users\",\r\n        doc: uid,\r\n        storeAs: `${tripId}-expense`,\r\n        subcollections: [\r\n          { collection: \"trips\", doc: tripId },\r\n          { collection: \"expenses\", doc: expenseId },\r\n        ],\r\n      },\r\n      updExpense\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { expense, amount } = this.props;\r\n    console.log(this.props);\r\n    if (this.props) {\r\n      return (\r\n        <div>\r\n          <div className=\"card mb-4 mt-4 \">\r\n            <div className=\"card-header\">Edit Expense</div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={this.formSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">Expense Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"expense name\"\r\n                    minLength=\"2\"\r\n                    required\r\n                    ref={this.nameInput}\r\n                    defaultValue={expense}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"expenseAmount\">Amount</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    name=\"amount\"\r\n                    minLength=\"1\"\r\n                    required\r\n                    ref={this.amountInput}\r\n                    defaultValue={amount}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Friends Involved {\"\"}</label>\r\n                  {this.renderFriendsInvolved()}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Who Paid</label>\r\n                  {this.renderFriend()}\r\n                </div>\r\n\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <LoadingSpinner />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default EditExpense;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect, isEmpty } from \"react-redux-firebase\";\r\nimport _ from \"lodash\";\r\nimport EditExpense from \"./EditExpense\";\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\r\n\r\nclass ExpenseList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isIncluded: false,\r\n      showForm: false,\r\n    };\r\n  }\r\n\r\n  // handles deletion of expense from Firestore\r\n  handleDelete = () => {\r\n    const { expenses, firestore, tripId, uid } = this.props;\r\n    firestore.delete({\r\n      collection: \"users\",\r\n      doc: uid,\r\n      storeAs: `${tripId.id}-expenses`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: tripId },\r\n        { collection: \"expenses\", doc: expenses.id },\r\n      ],\r\n    });\r\n  };\r\n\r\n  // renders name of friend who paid for expense\r\n  renderWhoPaid(whoPaid) {\r\n    const { friendsObj } = this.props;\r\n    if (friendsObj && friendsObj[whoPaid]) {\r\n      return <Td>{friendsObj[whoPaid].firstName}</Td>;\r\n    } else {\r\n      return <Td>''</Td>;\r\n    }\r\n  }\r\n\r\n  // shows edit form to change expense details\r\n  renderEditForm(id) {\r\n    const { showForm } = this.state;\r\n    const { expenses, friends, firestore, tripId, uid } = this.props;\r\n\r\n    if (showForm) {\r\n      return (\r\n        <EditExpense\r\n          expenseId={id}\r\n          expense={expenses.name}\r\n          amount={expenses.expenseAmount}\r\n          friendsInvolved={expenses.friendsInvolved}\r\n          whoPaid={expenses.whoPaid}\r\n          friends={friends}\r\n          tripId={tripId}\r\n          firestore={firestore}\r\n          uid={uid}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  // handles input from form\r\n  handleInputChange = (e) => {\r\n    const target = e.target;\r\n    const value = target.name === \"isIncluded\" ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  // upon checkbox click, adds friend to friendsIncluded array on expense and updates Firestore\r\n  addIncluded = (expense, id) => {\r\n    const { firestore, tripId, uid } = this.props;\r\n    // Update expense\r\n    const updExpense = {\r\n      friendsInvolved: expense.friendsInvolved.concat(id),\r\n    };\r\n\r\n    // update expense in firestore\r\n    firestore.update(\r\n      {\r\n        collection: \"users\",\r\n        doc: uid,\r\n        storeAs: `${tripId}-expenses`,\r\n        subcollections: [\r\n          { collection: \"trips\", doc: tripId },\r\n          { collection: \"expenses\", doc: expense.id },\r\n        ],\r\n      },\r\n      updExpense\r\n    );\r\n  };\r\n\r\n  // upon checkbox click, removes friend from friendsIncluded array on expense and updates Firestore\r\n\r\n  removeIncluded = (expense, id) => {\r\n    const { firestore, tripId, uid } = this.props;\r\n\r\n    // Update expense\r\n    const updExpense = {\r\n      friendsInvolved: expense.friendsInvolved.filter(\r\n        (item) => !id.includes(item)\r\n      ),\r\n    };\r\n\r\n    // update expense in firestore\r\n    firestore.update(\r\n      {\r\n        collection: \"users\",\r\n        doc: uid,\r\n        storeAs: `${tripId}-expenses`,\r\n        subcollections: [\r\n          { collection: \"trips\", doc: tripId },\r\n          { collection: \"expenses\", doc: expense.id },\r\n        ],\r\n      },\r\n      updExpense\r\n    );\r\n  };\r\n\r\n  // method to render expense table in app\r\n  renderExpenseTable() {\r\n    const { expensesObj, expenses, friends, friendsObj } = this.props;\r\n    const friendsInvolved = expenses.friendsInvolved;\r\n    const { showForm } = this.state;\r\n    const editIcon = (\r\n      // pencil/edit icon\r\n      <svg\r\n        className=\"bi bi-pencil-square\"\r\n        width=\"1em\"\r\n        height=\"1em\"\r\n        viewBox=\"0 0 16 16\"\r\n        fill=\"currentColor\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        cursor=\"pointer\"\r\n      >\r\n        <path d=\"M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z\" />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          d=\"M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z\"\r\n          clipRule=\"evenodd\"\r\n        />\r\n      </svg>\r\n    );\r\n\r\n    if (!isEmpty(expenses)) {\r\n      return (\r\n        <Tr key={expenses.id}>\r\n          <Td>\r\n            {expenses.name}\r\n            {this.renderEditForm(expenses.id)}\r\n            <div style={{ float: \"right\" }}>\r\n              {/* trash/delete icon */}\r\n              <svg\r\n                className=\"bi bi-trash-fill ml-2\"\r\n                width=\"1em\"\r\n                height=\"1em\"\r\n                viewBox=\"0 0 16 16\"\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                onClick={this.handleDelete}\r\n                cursor=\"pointer\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M2.5 1a1 1 0 00-1 1v1a1 1 0 001 1H3v9a2 2 0 002 2h6a2 2 0 002-2V4h.5a1 1 0 001-1V2a1 1 0 00-1-1H10a1 1 0 00-1-1H7a1 1 0 00-1 1H2.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM8 5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 018 5zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              <span\r\n                className=\"ml-2\"\r\n                onClick={() => this.setState({ showForm: !showForm })}\r\n              >\r\n                {showForm ? (\r\n                  <button className=\"btn-danger\">\r\n                    <i>Close</i>\r\n                  </button>\r\n                ) : (\r\n                  editIcon\r\n                )}\r\n              </span>\r\n            </div>\r\n          </Td>\r\n          {/* Who Paid for Expense */}\r\n          {this.renderWhoPaid(expenses.whoPaid)}\r\n          {/* Cost per person for expense */}\r\n          <Td>\r\n            $\r\n            {parseFloat(\r\n              expenses.expenseAmount / expenses.friendsInvolved.length\r\n            ).toFixed(2)}\r\n          </Td>\r\n\r\n          {_.map(friends, (value, key) => {\r\n            if (friendsInvolved.includes(value.id)) {\r\n              return (\r\n                <Td key={value.id}>\r\n                  {/* checkbox to signify friend is included in expense, clicking will remove friend */}\r\n                  <svg\r\n                    className=\"bi bi-check-box\"\r\n                    width=\"1em\"\r\n                    height=\"1em\"\r\n                    viewBox=\"0 0 16 16\"\r\n                    fill=\"currentColor\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    cursor=\"pointer\"\r\n                    onClick={() => this.removeIncluded(expenses, value.id)}\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M1.5 13A1.5 1.5 0 003 14.5h10a1.5 1.5 0 001.5-1.5V8a.5.5 0 00-1 0v5a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5V3a.5.5 0 01.5-.5h8a.5.5 0 000-1H3A1.5 1.5 0 001.5 3v10z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                </Td>\r\n              );\r\n            } else {\r\n              return (\r\n                <Td key={value.id}>\r\n                  {/* checkbox to signify friend is NOT included in expense, clicking will add friend */}\r\n\r\n                  <svg\r\n                    className=\"bi bi-x-square\"\r\n                    width=\"1em\"\r\n                    height=\"1em\"\r\n                    viewBox=\"0 0 16 16\"\r\n                    fill=\"currentColor\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    cursor=\"pointer\"\r\n                    onClick={() => this.addIncluded(expenses, value.id)}\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                </Td>\r\n              );\r\n            }\r\n          })}\r\n          {/* Expense Amount */}\r\n          <Td>${parseFloat(expenses.expenseAmount).toFixed(2)}</Td>\r\n        </Tr>\r\n      );\r\n    } else {\r\n      // if no expenses loaded from Firestore yet, signify loading\r\n      return \"loading\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // show expense table\r\n    return this.renderExpenseTable();\r\n  }\r\n}\r\n\r\n// connects to relevent Firestore collections and documents and passes to props\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.tripId}-expenses`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.tripId },\r\n        { collection: \"expenses\" },\r\n      ],\r\n    },\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.tripId}-friends`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.tripId },\r\n        { collection: \"friends\" },\r\n      ],\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { data } }, props) => ({\r\n    expensesObj: data[`${props.tripId}-expenses`],\r\n    friendsObj: data[`${props.tripId}-friends`],\r\n  }))\r\n)(ExpenseList);\r\n","import { useSelector } from \"react-redux\";\r\nimport { useFirestoreConnect } from \"react-redux-firebase\";\r\n\r\nexport default function WhoPaid(friendId) {\r\n  useFirestoreConnect(() => [{ collection: \"friends\", doc: friendId }]);\r\n  const friend = useSelector(\r\n    ({ firestore: { data } }) => data.friends && data.friends[friendId]\r\n  );\r\n  return friend;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\r\n\r\nimport ExpenseList from \"./ExpenseList\";\r\nimport WhoPaid from \"./WhoPaid.js\";\r\nimport FriendsInvolved from \"./FriendsInvolved\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\n\r\nclass RenderExpenseList extends Component {\r\n  constructor(props) {\r\n    // console.log(props);\r\n    super(props);\r\n    this.state = {\r\n      showForm: false,\r\n      expense: \"\",\r\n      amount: 0,\r\n      friendsInvolved: [\"\"],\r\n      whoPaid: \"\",\r\n      total: 0,\r\n      totals: {},\r\n    };\r\n  }\r\n\r\n  // componentDidUpdate() {\r\n  //   console.log(\"Updated!\");\r\n  // }\r\n  // componentDidMount() {\r\n  //   console.log(\"Mounted!\");\r\n  // }\r\n  addTotalExpenses = () => {\r\n    const { expenses } = this.props;\r\n    let newTotal = 0;\r\n    for (let x in expenses) {\r\n      newTotal += Number(expenses[x].expenseAmount);\r\n    }\r\n    return newTotal;\r\n  };\r\n\r\n  renderFriend() {\r\n    const { friends } = this.props;\r\n    const friendSelect = (\r\n      <select\r\n        multiple={false}\r\n        value={this.state.whoPaid}\r\n        onChange={this.inputChange}\r\n        id=\"whoPaid\"\r\n        type=\"text\"\r\n        name=\"whoPaid\"\r\n      >\r\n        <option value=\"\">Select Option</option>\r\n\r\n        {_.map(friends, (value, key) => {\r\n          return <WhoPaid key={value.id} friends={value} />;\r\n        })}\r\n      </select>\r\n    );\r\n    if (!isEmpty(friends)) {\r\n      return <div>{friendSelect}</div>;\r\n    } else {\r\n      return <LoadingSpinner />;\r\n    }\r\n  }\r\n\r\n  renderFriendsInvolved() {\r\n    const { friends } = this.props;\r\n    const { friendsInvolved } = this.state;\r\n    const friendSelectMultiple = (\r\n      <select\r\n        multiple={true}\r\n        value={friendsInvolved}\r\n        onChange={this.inputChangeMultiple}\r\n        id=\"friendsInvolved\"\r\n        type=\"text\"\r\n      >\r\n        {_.map(friends, (value, key) => {\r\n          return (\r\n            <FriendsInvolved\r\n              key={value.id}\r\n              friends={value}\r\n              uid={this.props.uid}\r\n            />\r\n          );\r\n        })}\r\n      </select>\r\n    );\r\n\r\n    return <div>{friendSelectMultiple}</div>;\r\n  }\r\n\r\n  renderExpense() {\r\n    const { expenses, friends, firestore, tripId } = this.props;\r\n\r\n    const expensesList = _.map(expenses, (value, key) => {\r\n      return (\r\n        <ExpenseList\r\n          key={value.id}\r\n          expenses={value}\r\n          friends={friends}\r\n          firestore={firestore}\r\n          tripId={tripId}\r\n          uid={this.props.uid}\r\n        />\r\n      );\r\n    });\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      return expensesList;\r\n    }\r\n    return (\r\n      <Tr>\r\n        <Td className=\"mt-4\">\r\n          <h4>You have no expenses logged!</h4>\r\n        </Td>\r\n      </Tr>\r\n    );\r\n  }\r\n\r\n  totalPerPerson() {\r\n    const { friends, expenses } = this.props;\r\n    const friendsObj = {};\r\n\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      _.map(friends, (value, key) => {\r\n        for (let expense of expenses) {\r\n          if (\r\n            friendsObj[value.id] &&\r\n            expense.friendsInvolved.includes(value.id)\r\n          ) {\r\n            let bal = expense.expenseAmount / expense.friendsInvolved.length;\r\n            friendsObj[value.id] += bal;\r\n          } else if (\r\n            !friendsObj[value.id] &&\r\n            expense.friendsInvolved.includes(value.id)\r\n          ) {\r\n            let bal = expense.expenseAmount / expense.friendsInvolved.length;\r\n            friendsObj[value.id] = bal;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return friendsObj;\r\n  }\r\n\r\n  renderTotalPerPerson(friendsObj) {\r\n    const { friends } = this.props;\r\n    const map = _.map(friends, (value, key) => {\r\n      if (friendsObj[value.id]) {\r\n        return (\r\n          <Td key={value.id}>${parseFloat(friendsObj[value.id]).toFixed(2)}</Td>\r\n        );\r\n      } else {\r\n        return <Td key={value.id}>$0</Td>;\r\n      }\r\n    });\r\n    return map;\r\n  }\r\n\r\n  totalAmountPaidPerPerson() {\r\n    const { friends, expenses } = this.props;\r\n    const friendsObj = {};\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      _.map(friends, (value, key) => {\r\n        for (let expense of expenses) {\r\n          if (friendsObj[value.id] && expense.whoPaid.includes(value.id)) {\r\n            let bal = expense.expenseAmount;\r\n            friendsObj[value.id] += bal;\r\n          } else if (\r\n            !friendsObj[value.id] &&\r\n            expense.whoPaid.includes(value.id)\r\n          ) {\r\n            let bal = expense.expenseAmount;\r\n            friendsObj[value.id] = bal;\r\n          } else if (!friendsObj[value.id]) {\r\n            friendsObj[value.id] = 0;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    return friendsObj;\r\n  }\r\n\r\n  addTotalPaidExpenses = (obj) => {\r\n    let newTotal = 0;\r\n    for (let x in obj) {\r\n      newTotal += Number(obj[x]);\r\n    }\r\n    return newTotal;\r\n  };\r\n\r\n  renderTotalAmountPaidPerPerson() {\r\n    const { friends } = this.props;\r\n\r\n    const friendsObj = this.totalAmountPaidPerPerson();\r\n\r\n    const map1 = _.map(friends, (value, key) => {\r\n      if (friendsObj[value.id]) {\r\n        return <Td key={value.id}>${friendsObj[value.id].toFixed(2)}</Td>;\r\n      } else {\r\n        return <Td key={value.id}>$0</Td>;\r\n      }\r\n    });\r\n    return map1;\r\n  }\r\n\r\n  renderTotalDifferencePerPerson1() {\r\n    const { friends, expenses } = this.props;\r\n    let friendsObj = this.totalAmountPaidPerPerson();\r\n    let friendsObj1 = this.totalPerPerson();\r\n    let diffAmount = {};\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      _.map(friends, (value, key) => {\r\n        diffAmount[value.id] = 0;\r\n        if (friendsObj[value.id]) {\r\n          diffAmount[value.id] -= friendsObj1[value.id];\r\n        }\r\n\r\n        diffAmount[value.id] += friendsObj[value.id];\r\n      });\r\n    }\r\n  }\r\n\r\n  renderTotalDifferencePerPerson() {\r\n    const { friends, expenses } = this.props;\r\n    let friendsObj = this.totalAmountPaidPerPerson();\r\n    let friendsObj1 = this.totalPerPerson();\r\n    const diffAmount = {};\r\n    if (!isEmpty(expenses) && !isEmpty(friends)) {\r\n      _.map(friends, (value, key) => {\r\n        diffAmount[value.id] = 0;\r\n        diffAmount[value.id] += friendsObj[value.id] - friendsObj1[value.id];\r\n      });\r\n    }\r\n\r\n    const map = _.map(friends, (value, key) => {\r\n      if (diffAmount[value.id]) {\r\n        return <Td key={value.id}>${diffAmount[value.id].toFixed(2)}</Td>;\r\n      }\r\n    });\r\n\r\n    return map;\r\n  }\r\n\r\n  renderFriendHeader() {\r\n    const { friends } = this.props;\r\n    const friendsList = _.map(friends, (value, key) => {\r\n      return <Th key={key}>{value.firstName}</Th>;\r\n    });\r\n    if (!isEmpty(friends)) {\r\n      return friendsList;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    return (\r\n      // <div className=\"mt-4\">\r\n      <Table\r\n        key={_.map(this.props.friends, (value, key) => {\r\n          return key;\r\n        })}\r\n        className={\"table table-striped table-bordered\"}\r\n      >\r\n        <Thead>\r\n          <Tr>\r\n            <Th>Expense Name</Th>\r\n            <Th>Who Paid</Th>\r\n            <Th>Cost Per Person</Th>\r\n            {/* Insert name of friend as table heading */}\r\n            {this.renderFriendHeader()}\r\n            <Th>Expense Amount</Th>\r\n          </Tr>\r\n        </Thead>\r\n        <Tbody>\r\n          {this.renderExpense()}\r\n          <Tr>\r\n            <Th colSpan=\"3\">Total Owed</Th>\r\n            {this.renderTotalPerPerson(this.totalPerPerson())}\r\n            <Td className=\"table-success\" style={{ color: \"black\" }}>\r\n              <strong>\r\n                ${this.addTotalPaidExpenses(this.totalPerPerson())}\r\n              </strong>\r\n            </Td>\r\n          </Tr>\r\n          <Tr>\r\n            <Th colSpan=\"3\">Total Paid</Th>\r\n            {this.renderTotalAmountPaidPerPerson()}\r\n            <Td className=\"table-success\" style={{ color: \"black\" }}>\r\n              <strong>\r\n                ${this.addTotalPaidExpenses(this.totalAmountPaidPerPerson())}\r\n              </strong>\r\n            </Td>\r\n          </Tr>\r\n          <Tr>\r\n            {/* TODO: have conditional colors for cells */}\r\n            <Th colSpan=\"3\">Difference</Th>\r\n            {this.renderTotalDifferencePerPerson()}\r\n          </Tr>\r\n        </Tbody>\r\n      </Table>\r\n      // </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  // gets clients from firestore and puts them in the clients prop\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.tripId}-expenses`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.tripId },\r\n        { collection: \"expenses\" },\r\n      ],\r\n    },\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.tripId}-friends`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.tripId },\r\n        { collection: \"friends\" },\r\n      ],\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    expenses: ordered[`${props.tripId}-expenses`],\r\n    friends: ordered[`${props.tripId}-friends`],\r\n  }))\r\n)(RenderExpenseList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport FriendsInvolved from \"./FriendsInvolved\";\r\n\r\nclass AddExpense extends Component {\r\n  state = {\r\n    showForm: false,\r\n    expense: \"\",\r\n    amount: 0,\r\n    friendsInvolved: [\"\"],\r\n    whoPaid: \"\",\r\n    total: 0,\r\n  };\r\n\r\n  inputChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  inputChangeMultiple = (e) => {\r\n    this.setState({\r\n      friendsInvolved: Array.from(\r\n        e.target.selectedOptions,\r\n        (item) => item.value\r\n      ),\r\n    });\r\n  };\r\n\r\n  renderFriend() {\r\n    const { friends } = this.props;\r\n    const friendSelect = (\r\n      <select\r\n        multiple={false}\r\n        value={this.state.whoPaid}\r\n        onChange={this.inputChange}\r\n        className=\"form-control\"\r\n        id=\"whoPaid\"\r\n        type=\"text\"\r\n        name=\"whoPaid\"\r\n      >\r\n        <option value=\"\">Select Option</option>\r\n        {_.map(friends, (value, key) => {\r\n          return <option value={value.id}>{value.firstName}</option>;\r\n        })}\r\n      </select>\r\n    );\r\n\r\n    return friendSelect;\r\n  }\r\n\r\n  renderFriendsInvolved() {\r\n    const { friends } = this.props;\r\n    const { friendsInvolved } = this.state;\r\n    const friendSelectMultiple = (\r\n      <select\r\n        multiple={true}\r\n        value={friendsInvolved}\r\n        onChange={this.inputChangeMultiple}\r\n        className=\"form-control\"\r\n        id=\"friendsInvolved\"\r\n        type=\"text\"\r\n      >\r\n        {_.map(friends, (value, key) => {\r\n          return <FriendsInvolved key={value.id} friends={value} />;\r\n        })}\r\n      </select>\r\n    );\r\n\r\n    return <div>{friendSelectMultiple}</div>;\r\n  }\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { expense, amount, friendsInvolved, whoPaid } = this.state;\r\n    const { firestore, uid } = this.props;\r\n\r\n    firestore\r\n      .add(\r\n        {\r\n          collection: \"users\",\r\n          doc: uid,\r\n          subcollections: [\r\n            { collection: \"trips\", doc: this.props.id },\r\n            { collection: \"expenses\" },\r\n          ],\r\n        },\r\n        {\r\n          name: expense,\r\n          expenseAmount: Number(amount),\r\n          friendsInvolved: friendsInvolved,\r\n          whoPaid: whoPaid,\r\n        }\r\n      )\r\n      .then((docRef) => {\r\n        console.log(\"Document written with ID: \", docRef.id);\r\n      });\r\n\r\n    this.setState({\r\n      expense: \"\",\r\n      amount: 0,\r\n      friendsInvolved: [\"\"],\r\n      whoPaid: \"\",\r\n    });\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { showForm, expense, amount } = this.state;\r\n    if (showForm) {\r\n      return (\r\n        <div className=\"card mt-3 pl-1\">\r\n          <div className=\"card-header\">Add Expense</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.formSubmit}>\r\n              <div className=\"form-group\">\r\n                <label>Expense Name</label>\r\n                <input\r\n                  value={expense}\r\n                  className=\"form-control\"\r\n                  onChange={this.inputChange}\r\n                  id=\"friendNext\"\r\n                  type=\"text\"\r\n                  name=\"expense\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Amount</label>\r\n                <input\r\n                  value={amount}\r\n                  onChange={this.inputChange}\r\n                  className=\"form-control\"\r\n                  type=\"number\"\r\n                  id=\"amount\"\r\n                  name=\"amount\"\r\n                />\r\n              </div>\r\n              {/* Friends involved */}\r\n              <div className=\"form-group\">\r\n                <label>Friends Involved {\"\"}</label>\r\n                {this.renderFriendsInvolved()}\r\n              </div>\r\n              {/* Who Paid */}\r\n              <div className=\"form-group\">\r\n                <label>Who Paid</label>\r\n                {this.renderFriend()}\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Submit\"\r\n                className=\"btn btn-success btn-block\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n\r\n    return (\r\n      <div\r\n        style={\r\n          {\r\n            // marginLeft: \"5%\",\r\n            // display: \"flex\",\r\n            // flexDirection: \"column\",\r\n            // justifyContent: \"center\",\r\n          }\r\n        }\r\n      >\r\n        {showForm ? (\r\n          <button\r\n            className=\"btn btn-danger btn-block mt-4\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Close\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-secondary btn-block mt-4\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Add Expense{\" \"}\r\n          </button>\r\n        )}\r\n        <div>\r\n          <div className=\"\">{this.renderForm()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.id}-expenses`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.id },\r\n        { collection: \"expenses\" },\r\n      ],\r\n    },\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.id}-friends`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.id },\r\n        { collection: \"friends\" },\r\n      ],\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    friends: ordered[`${props.id}-friends`],\r\n    expenses: ordered[`${props.id}-expenses`],\r\n  }))\r\n)(AddExpense);\r\n","import React from \"react\";\r\nimport RenderExpenseList from \"../expense/RenderExpenseList\";\r\nimport AddExpense from \"../expense/AddExpense\";\r\n\r\nexport default function MainViewContainer(props) {\r\n  return (\r\n    <div className=\"pl-4 pr-4\">\r\n      <RenderExpenseList tripId={props.id} uid={props.uid} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\n\r\nclass EditFriend extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // Create refs\r\n    this.firstNameInput = React.createRef();\r\n  }\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { firestore, friend } = this.props;\r\n\r\n    // Update friend\r\n    const updFriend = {\r\n      firstName: this.firstNameInput.current.value,\r\n    };\r\n\r\n    // update friend in firestore\r\n    firestore.update({ collection: \"friends\", doc: friend.id }, updFriend);\r\n  };\r\n\r\n  render() {\r\n    const { friend } = this.props;\r\n    if (this.props) {\r\n      return (\r\n        <div>\r\n          <div className=\"card mb-4 mt-4 \">\r\n            <div className=\"card-header\">Edit Friend</div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={this.formSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"firstName\">First Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"firstName\"\r\n                    minLength=\"2\"\r\n                    required\r\n                    ref={this.firstNameInput}\r\n                    defaultValue={friend.firstName}\r\n                  />\r\n                </div>\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <LoadingSpinner />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  // gets friends from firestore and puts them in the friends prop\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"friends\",\r\n      storeAs: \"friend\",\r\n      doc: props.id,\r\n    },\r\n  ]),\r\n  connect(({ firestore: { data } }, props) => ({\r\n    friend: data.friend && data.friend[props.id],\r\n  }))\r\n)(EditFriend);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport EditFriend from \"./EditFriend\";\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\r\n\r\nclass FriendDetails extends Component {\r\n  state = {\r\n    showForm: false,\r\n  };\r\n\r\n  handleDelete = () => {\r\n    const { friends, firestore, uid } = this.props;\r\n    firestore.delete({\r\n      collection: \"users\",\r\n      doc: uid,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: this.props.tripId },\r\n        { collection: \"friends\", doc: friends.id },\r\n      ],\r\n    });\r\n  };\r\n\r\n  renderWhoseInvolved(id) {\r\n    const { friend } = this.props;\r\n    return <Td>{friend[id].firstName}</Td>;\r\n  }\r\n\r\n  renderEditForm(id) {\r\n    const { showForm } = this.state;\r\n\r\n    if (showForm) {\r\n      return <EditFriend id={id} firstName={this.props.friend.firstName} />;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const editIcon = (\r\n      <svg\r\n        className=\"bi bi-pencil-square\"\r\n        width=\"1em\"\r\n        height=\"1em\"\r\n        viewBox=\"0 0 16 16\"\r\n        fill=\"currentColor\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        cursor=\"pointer\"\r\n      >\r\n        <path d=\"M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z\" />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          d=\"M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z\"\r\n          clipRule=\"evenodd\"\r\n        />\r\n      </svg>\r\n    );\r\n    const { friends } = this.props;\r\n    const { showForm } = this.state;\r\n    return (\r\n      <Tbody>\r\n        <Tr key={friends.id}>\r\n          <Td>\r\n            {friends.firstName}{\" \"}\r\n            <div style={{ float: \"right\" }}>\r\n              <svg\r\n                className=\"bi bi-trash-fill ml-2\"\r\n                width=\"1em\"\r\n                height=\"1em\"\r\n                viewBox=\"0 0 16 16\"\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                onClick={this.handleDelete}\r\n                cursor=\"pointer\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M2.5 1a1 1 0 00-1 1v1a1 1 0 001 1H3v9a2 2 0 002 2h6a2 2 0 002-2V4h.5a1 1 0 001-1V2a1 1 0 00-1-1H10a1 1 0 00-1-1H7a1 1 0 00-1 1H2.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM8 5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 018 5zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              {this.renderEditForm(friends.id)}\r\n              <span\r\n                className=\"ml-2\"\r\n                onClick={() => this.setState({ showForm: !showForm })}\r\n              >\r\n                {showForm ? (\r\n                  <button>\r\n                    <i>Close</i>\r\n                  </button>\r\n                ) : (\r\n                  editIcon\r\n                )}\r\n              </span>\r\n            </div>\r\n          </Td>\r\n        </Tr>\r\n      </Tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FriendDetails;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport _ from \"lodash\";\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\r\n\r\nimport FriendDetails from \"./FriendDetails\";\r\nimport EditFriend from \"./EditFriend\";\r\n\r\nclass Friends extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showForm: false,\r\n      firstName: \"\",\r\n    };\r\n  }\r\n\r\n  inputChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { firestore, uid } = this.props;\r\n    const { firstName } = this.state;\r\n    firestore\r\n      .add(\r\n        {\r\n          collection: \"users\",\r\n          doc: uid,\r\n          subcollections: [\r\n            { collection: \"trips\", doc: this.props.id },\r\n            { collection: \"friends\" },\r\n          ],\r\n        },\r\n        { firstName: firstName }\r\n      )\r\n      .then((docRef) => {\r\n        console.log(\"Document written with ID: \", docRef.id);\r\n      });\r\n\r\n    this.setState({ firstName: \"\" });\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { showForm, firstName } = this.state;\r\n    if (showForm) {\r\n      return (\r\n        <div className=\"card mb-4 mt-4 \">\r\n          <div className=\"card-header\">Add Friend</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.formSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"firstName\">First Name</label>\r\n                <input\r\n                  value={firstName}\r\n                  onChange={this.inputChange}\r\n                  id=\"friendNext\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"firstName\"\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Submit\"\r\n                className=\"btn btn-primary btn-block\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderFriend = (props) => {\r\n    const { friends, uid } = this.props;\r\n    const friendsList = _.map(friends, (value, key) => {\r\n      return (\r\n        <FriendDetails\r\n          key={value.id}\r\n          friends={value}\r\n          tripId={this.props.id}\r\n          firestore={this.props.firestore}\r\n          uid={uid}\r\n        />\r\n      );\r\n    });\r\n\r\n    if (friends) {\r\n      return friendsList;\r\n    } else {\r\n      return (\r\n        <Tbody>\r\n          <Tr>\r\n            <Td>Loading</Td>\r\n          </Tr>\r\n        </Tbody>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n    return (\r\n      <div\r\n      // style={{\r\n      //   display: \"flex\",\r\n      //   flexDirection: \"column\",\r\n      //   justifyContent: \"center\",\r\n      // }}\r\n      >\r\n        {showForm ? (\r\n          <button\r\n            className=\"btn btn-danger btn-block mt-4\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Close\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-secondary btn-block mt-4\"\r\n            onClick={() => this.setState({ showForm: !showForm })}\r\n          >\r\n            Add Friend\r\n          </button>\r\n        )}\r\n        {this.renderForm()}\r\n        <Table className=\" mt-4\">\r\n          <Thead>\r\n            <Tr>\r\n              <Th>Friend Name</Th>\r\n            </Tr>\r\n          </Thead>\r\n          {this.renderFriend()}\r\n        </Table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      storeAs: `${props.id}-friends`,\r\n      subcollections: [\r\n        { collection: \"trips\", doc: props.id },\r\n        { collection: \"friends\" },\r\n      ],\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    friends: ordered[`${props.id}-friends`],\r\n  }))\r\n)(Friends);\r\n","import React, { Component } from \"react\";\r\nimport Friends from \"../friends/Friends.js\";\r\nimport AddExpense from \"../expense/AddExpense.js\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useParams,\r\n} from \"react-router-dom\";\r\n\r\nimport AddNewTrip from \"../trips/AddNewTrip\";\r\nimport ListTrips from \"../trips/ListTrips\";\r\n\r\nexport default function Sidebar(props) {\r\n  const { id } = useParams();\r\n  return (\r\n    <div>\r\n      <div class=\"alert alert-info mt-4\" role=\"alert\">\r\n        Add friend or friends prior to adding expense!\r\n      </div>\r\n      <>\r\n        {props ? (\r\n          <>\r\n            <AddNewTrip uid={props.uid} />\r\n            <ListTrips uid={props.uid} />\r\n          </>\r\n        ) : null}\r\n      </>\r\n      <Route\r\n        path=\"/trip/:id\"\r\n        render={() => (\r\n          <div>\r\n            <AddExpense id={id} uid={props.uid} />\r\n            <Friends id={id} uid={props.uid} />\r\n          </div>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport MainViewContainer from \"../layout/MainViewContainer\";\r\nimport Sidebar from \"../layout/Sidebar\";\r\n\r\nexport class Trip extends Component {\r\n  render() {\r\n    console.log(this.props);\r\n    return (\r\n      <div className=\"mainView\">\r\n        {/* <nav>\r\n          <Sidebar id={this.props.id} uid={this.props.uid} />\r\n        </nav> */}\r\n        <div className=\"mainViewContainer\">\r\n          <MainViewContainer id={this.props.id} uid={this.props.uid} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Trip;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport LoadingSpinner from \"../loading/LoadingSpinner\";\r\nimport AddNewTrip from \"./AddNewTrip\";\r\nimport ListTrips from \"./ListTrips\";\r\nimport Trip from \"./Trip.js\";\r\nimport Sidebar from \"../layout/Sidebar\";\r\nimport MainViewContainer from \"../layout/MainViewContainer\";\r\nimport RenderExpenseList from \"../expense/RenderExpenseList\";\r\n\r\nclass AllTrips extends Component {\r\n  render() {\r\n    const { trips } = this.props;\r\n    return (\r\n      <div>\r\n        {!this.props.uid ? (\r\n          <LoadingSpinner />\r\n        ) : (\r\n          <>\r\n            <Router>\r\n              {/* <Switch> */}\r\n              <div>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      // padding: \"3%\",\r\n                      width: \"45rem\",\r\n                    }}\r\n                  >\r\n                    <AddNewTrip uid={this.props.uid} />\r\n                    <ListTrips uid={this.props.uid} />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Route\r\n                    path=\"/trip/:id\"\r\n                    render={({ match }) => (\r\n                      <Trip id={match.params.id} uid={this.props.uid} />\r\n                    )}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/* </Switch> */}\r\n            </Router>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect((props) => [\r\n    {\r\n      collection: \"users\",\r\n      doc: props.uid,\r\n      subcollections: [{ collection: \"trips\" }],\r\n      storeAs: `${props.uid}-trips`,\r\n    },\r\n  ]),\r\n\r\n  connect(({ firestore: { data } }, props) => ({\r\n    trips: data[`${props.uid}-trips`],\r\n  }))\r\n)(AllTrips);\r\n","import { NOTIFY_USER } from \"./types\";\r\n\r\nexport const notifyUser = (message, messageType) => {\r\n  return {\r\n    type: NOTIFY_USER,\r\n    message,\r\n    messageType,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nconst Alert = (props) => {\r\n  const { message, messageType } = props;\r\n  return (\r\n    <div\r\n      className={classnames(\"alert\", {\r\n        \"alert-success\": messageType === \"success\",\r\n        \"alert-danger\": messageType === \"error\",\r\n      })}\r\n    >\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { Component } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n// import { firestoreConnect } from \"react-redux-firebase\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password } = this.state;\r\n\r\n    firebase\r\n      .login({\r\n        email,\r\n        password,\r\n      })\r\n      .catch((err) => notifyUser(\"Invalid Login Info\", \"error\"))\r\n      .then(this.props.history.push(\"/\"));\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    console.log(this.state);\r\n    const { message, messageType } = this.props.notify;\r\n    return (\r\n      <div className=\"col-md-6 mx-auto\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            {message ? (\r\n              <Alert message={message} messageType={messageType} />\r\n            ) : null}\r\n            <h1 className=\"text-center pb-4 pt-3\">\r\n              <span className=\"text-primary\">\r\n                <i className=\"fa fa-lock\"></i>\r\n                {\"\"}\r\n                Login\r\n              </span>\r\n            </h1>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"email\"\r\n                  required\r\n                  value={this.state.email}\r\n                  onChange={this.onChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  name=\"password\"\r\n                  required\r\n                  value={this.state.password}\r\n                  onChange={this.onChange}\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Login\"\r\n                className=\"btn btn-primary btn-block\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify,\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Login);\r\n","import React, { Component } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n// import { firestoreConnect } from \"react-redux-firebase\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  componentWillMount() {\r\n    // const { allowRegistration } = this.props.settings;\r\n    // if (!allowRegistration) {\r\n    //   this.props.history.push(\"/\");\r\n    // }\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password } = this.state;\r\n\r\n    // Register with firebase\r\n    firebase\r\n      .createUser({ email, password })\r\n      .catch((err) => notifyUser(\"User Already Exists\", \"error\"))\r\n      .then(this.props.history.push(\"/\"));\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  render() {\r\n    const { message, messageType } = this.props.notify;\r\n    return (\r\n      <div className=\"col-md-6 mx-auto\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            {message ? (\r\n              <Alert message={message} messageType={messageType} />\r\n            ) : null}\r\n            <h1 className=\"text-center pb-4 pt-3\">\r\n              <span className=\"text-primary\">\r\n                <i className=\"fa fa-lock\"></i> Register\r\n              </span>\r\n            </h1>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"email\"\r\n                  required\r\n                  value={this.state.email}\r\n                  onChange={this.onChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  name=\"password\"\r\n                  required\r\n                  value={this.state.password}\r\n                  onChange={this.onChange}\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Register\"\r\n                className=\"btn btn-primary btn-block\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify,\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Register);\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport \"react-super-responsive-table/dist/SuperResponsiveTableStyle.css\";\r\nimport { UserIsAuthenticated, UserIsNotAuthenticated } from \"./helpers/auth\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\n\r\nimport { compose } from \"redux\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\n\r\nimport Navbar from \"./components/layout/Navbar\";\r\nimport AllTrips from \"./components/trips/AllTrips\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Register from \"./components/auth/Register\";\r\nimport LoadingSpinner from \"./components/loading/LoadingSpinner\";\r\nimport { queryAllByAltText } from \"@testing-library/react\";\r\nimport Trip from \"./components/trips/Trip\";\r\nimport Sidebar from \"./components/layout/Sidebar\";\r\nimport RenderExpenseList from \"./components/expense/RenderExpenseList\";\r\nimport AddNewTrip from \"./components/trips/AddNewTrip\";\r\nimport ListTrips from \"./components/trips/ListTrips\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    const { auth, ...props } = this.props;\r\n    return (\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <div className=\"App\">\r\n          <header>\r\n            <Navbar />\r\n          </header>\r\n          <nav>\r\n            <Switch>\r\n              <Route\r\n                {...props}\r\n                exact\r\n                path=\"/\"\r\n                component={\r\n                  (this.UserIsAuthenticated = () =>\r\n                    auth.uid ? <Sidebar uid={auth.uid} /> : null)\r\n                }\r\n              />\r\n              <Route\r\n                {...props}\r\n                exact\r\n                path=\"/trip/:id\"\r\n                component={\r\n                  (this.UserIsAuthenticated = ({ match }) =>\r\n                    auth.uid ? (\r\n                      <Sidebar id={match.params.id} uid={auth.uid} />\r\n                    ) : null)\r\n                }\r\n              />\r\n            </Switch>\r\n          </nav>\r\n          <main>\r\n            <Switch>\r\n              <Route\r\n                exact\r\n                path=\"/login\"\r\n                component={UserIsNotAuthenticated(Login)}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/register\"\r\n                component={UserIsNotAuthenticated(Register)}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/\"\r\n                component={UserIsAuthenticated(() => (\r\n                  // <AllTrips uid={auth.uid} />\r\n                  <h1>Select trip from left sidebar</h1>\r\n                ))}\r\n              />\r\n              <Route\r\n                // {...props}\r\n                exact\r\n                path=\"/trip/:id\"\r\n                render={\r\n                  (this.UserIsAuthenticated = ({ match }) =>\r\n                    this.props.auth.uid ? (\r\n                      <RenderExpenseList\r\n                        tripId={match.params.id}\r\n                        uid={this.props.auth.uid}\r\n                      />\r\n                    ) : //  <Trip id={match.params.id} uid={this.props.auth.uid} />\r\n                    null)\r\n                }\r\n              />\r\n              {/* <Route\r\n                {...props}\r\n                exact\r\n                path=\"/trip/:id\"\r\n                render={\r\n                  (this.UserIsAuthenticated = ({ match, props }) =>\r\n                    this.props.auth.uid ? (\r\n                      <Trip id={match.params.id} uid={this.props.auth.uid} />\r\n                    ) : null)\r\n                }\r\n              /> */}\r\n\r\n              <Route exact path=\"/\" component={UserIsNotAuthenticated(Login)} />\r\n            </Switch>\r\n          </main>\r\n          <footer style={{ backgroundColor: \"lightGrey\" }}>Mark Murphy</footer>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\n// export default App;\r\nexport default compose(\r\n  connect((state) => ({\r\n    // tripID: state.id,\r\n    auth: state.firebase.auth,\r\n  }))\r\n)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { ReactReduxFirebaseProvider } from \"react-redux-firebase\";\r\nimport store, { rrfProps } from \"./store\";\r\n\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ReactReduxFirebaseProvider {...rrfProps}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </ReactReduxFirebaseProvider>\r\n  </Provider>,\r\n\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}